"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5093],{5093:(Z,p,s)=>{s.r(p),s.d(p,{MedicalFAQPageModule:()=>y});var u=s(6814),d=s(6223),a=s(451),g=s(8179),m=s(5861),e=s(9212),_=s(82),f=s(6530);function x(t,c){if(1&t){const i=e.EpF();e.TgZ(0,"form",null,13)(2,"div",14)(3,"p",15),e._uU(4," Add useful medical FAQ "),e.qZA(),e.TgZ(5,"div",16)(6,"ion-text"),e._uU(7,"Write a frequently asked question"),e.qZA(),e.TgZ(8,"ion-textarea",17),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.question=o)}),e._UZ(9,"ion-icon",18),e.qZA()(),e.TgZ(10,"div",19)(11,"ion-text"),e._uU(12,"Write a detailed answer"),e.qZA(),e.TgZ(13,"ion-textarea",20),e.NdJ("ngModelChange",function(o){e.CHM(i);const r=e.oxw();return e.KtG(r.answer=o)}),e._UZ(14,"ion-icon",21),e.qZA()(),e.TgZ(15,"div",22)(16,"ion-button",23),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dismiss())}),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"ion-button",24),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.addFaq())}),e._uU(19,"Add"),e.qZA()()()()}if(2&t){const i=e.MAs(1),n=e.oxw();e.xp6(8),e.Q6J("autoGrow",!0)("ngModel",n.question),e.xp6(5),e.Q6J("autoGrow",!0)("ngModel",n.answer),e.xp6(5),e.Q6J("disabled",i.invalid)}}function h(t,c){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card",4),e.NdJ("click",function(){const r=e.CHM(i).$implicit,l=e.oxw(2);return e.KtG(l.deleteAlert(r.id))}),e.TgZ(1,"div",30)(2,"p",31),e._uU(3),e.qZA()(),e.TgZ(4,"div",32)(5,"p",33),e._uU(6),e.qZA()()()}if(2&t){const i=c.$implicit;e.xp6(3),e.Oqu(i.question),e.xp6(3),e.hij("",i.answer," ")}}function M(t,c){if(1&t&&(e.ynx(0),e.TgZ(1,"div",25)(2,"p",26),e._uU(3),e.qZA(),e.TgZ(4,"p",27),e._uU(5,"Click on a card to delete it"),e.qZA()(),e.TgZ(6,"div",28),e.YNc(7,h,7,2,"ion-card",29),e.qZA(),e.BQk()),2&t){const i=e.oxw();e.xp6(3),e.Oqu(i.type),e.xp6(4),e.Q6J("ngForOf",i.medicalFaqs)}}function A(t,c){1&t&&(e.ynx(0),e.TgZ(1,"div",34),e._UZ(2,"ion-spinner",35),e.qZA(),e.BQk())}function F(t,c){if(1&t&&(e.ynx(0),e.TgZ(1,"div",34)(2,"div",25)(3,"p"),e._uU(4,"No FAQs"),e.qZA(),e.TgZ(5,"p",27),e._uU(6),e.qZA(),e._UZ(7,"ion-img",36),e.qZA()(),e.BQk()),2&t){const i=e.oxw(2);e.xp6(6),e.hij("FAQs related to ",i.type," will appear here")}}function Q(t,c){if(1&t&&(e.ynx(0),e.YNc(1,A,3,0,"ng-container",12)(2,F,8,1,"ng-container",12),e.BQk()),2&t){const i=e.oxw();e.xp6(),e.Q6J("ngIf",i.isLoading),e.xp6(),e.Q6J("ngIf",!i.isLoading)}}const C=[{path:"",component:(()=>{var t;class c{constructor(n,o,r,l,b,w,q){this.toastController=n,this.adminService=o,this.route=r,this.router=l,this.alertController=b,this.modalController=w,this.userService=q,this.type="",this.question="",this.answer="",this.medicalFaqs=[],this.allFAQs=[],this.isLoading=!1}ngOnInit(){this.getMedicalFAQs()}getMedicalFAQs(){this.isLoading=!0,this.route.params.subscribe(n=>{this.type=n.type,this.userService.getMedicalFAQs(this.type).subscribe({next:o=>{if(o&&o.hasOwnProperty("medicalFAQ")){console.log("Fetched all medical FAQs: ",o);const r=JSON.parse(JSON.stringify(o));this.allFAQs=[].concat.apply([],Object.values(r.medicalFAQ)),this.allFAQs.forEach(l=>{this.medicalFaqs.push({id:l.id,type:l.type,question:l.question,answer:l.answer}),this.type=l.type})}else console.log("No users")},error:o=>{console.error("Error retrieving users:",o)},complete:()=>{this.isLoading=!1}})})}addFaq(){this.adminService.addFaq(this.type,this.question,this.answer).subscribe({next:n=>{console.log("FAQ added:",n),this.presentToast("FAQ added"),this.question="",this.answer="",this.dismiss(),this.ngOnInit()},error:n=>{console.error("Error deleting faq:",n)}})}deleteAlert(n){var o=this;return(0,m.Z)(function*(){yield(yield o.alertController.create({header:"Delete FAQ",subHeader:"Are you sure you want to permanently delete this FAQ?",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Delete",cssClass:"alert-button-ok-red",handler:()=>{o.deleteFaq(n)}}]})).present()})()}deleteFaq(n){this.adminService.deleteFaq(n).subscribe({next:o=>{console.log("FAQ deleted:",o),this.presentToast("FAQ deleted"),this.ngOnInit()},error:o=>{console.error("Error deleting faq:",o)}})}presentToast(n){var o=this;return(0,m.Z)(function*(){(yield o.toastController.create({message:n,duration:2e3,position:"bottom"})).present()})()}dismiss(){this.modalController.dismiss()}back(){this.router.navigate(["/manage-faqs"])}}return(t=c).\u0275fac=function(n){return new(n||t)(e.Y36(a.yF),e.Y36(_.l),e.Y36(g.gz),e.Y36(g.F0),e.Y36(a.Br),e.Y36(a.IN),e.Y36(f.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-medical-faq"]],decls:17,vars:2,consts:[["id","main-content"],[1,"header-toolbar"],[1,"toolbar-container"],["slot","start"],[3,"click"],["name","chevron-back-outline",1,"back-button"],[1,"title"],["vertical","bottom","horizontal","end","slot","fixed"],["id","add-faq"],["name","add"],["mode","ios","id","add-faq-modal","trigger","add-faq"],["modal",""],[4,"ngIf"],["faqForm","ngForm"],[1,"wrapper"],[1,"statement"],[1,"modal-question-container"],["placeholder","Question...","name","faqQuestion","required","",3,"autoGrow","ngModel","ngModelChange"],["name","help-circle-outline","slot","start",1,"modal-icon"],[1,"modal-answer-container"],["placeholder","Answer...","name","faqAnswer","required","",3,"autoGrow","ngModel","ngModelChange"],["name","information-circle-outline","slot","start",1,"modal-icon"],[1,"buttons-container"],["fill","outline",1,"cancel-button",3,"click"],["fill","outline",1,"add-button",3,"disabled","click"],[1,"stmt"],[1,"section"],[1,"second-stmt"],[1,"cards-container"],[3,"click",4,"ngFor","ngForOf"],[1,"question-container"],[1,"question"],[1,"answer-container"],[1,"answer"],[1,"body"],["name","crescent"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-buttons",3)(4,"ion-button",4),e.NdJ("click",function(){return o.back()}),e._UZ(5,"ion-icon",5),e.qZA()(),e.TgZ(6,"ion-title",6),e._uU(7,"Medical FAQs"),e.qZA()()()(),e.TgZ(8,"ion-content")(9,"ion-fab",7)(10,"ion-fab-button",8),e._UZ(11,"ion-icon",9),e.qZA()(),e.TgZ(12,"ion-modal",10,11),e.YNc(14,x,20,5,"ng-template"),e.qZA(),e.YNc(15,M,8,2,"ng-container",12)(16,Q,3,2,"ng-container",12),e.qZA()),2&n&&(e.xp6(15),e.Q6J("ngIf",o.allFAQs.length>0),e.xp6(),e.Q6J("ngIf",0==o.allFAQs.length))},dependencies:[u.sg,u.O5,d._Y,d.JJ,d.JL,d.Q7,d.On,d.F,a.YG,a.Sm,a.PM,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.Xz,a.PQ,a.yW,a.g2,a.wd,a.sr,a.ki,a.j9],styles:[".header-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.back-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:.5em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}ion-card[_ngcontent-%COMP%]{box-shadow:0 0 8px #0000004d;margin:0 10px 1em;width:90%}ion-card[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.question-container[_ngcontent-%COMP%]{background-color:#d9d9d9;color:#000;padding:10px}.question[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:16px}.answer-container[_ngcontent-%COMP%]{padding:10px}.answer[_ngcontent-%COMP%]{margin:0;font-size:14px}ion-fab-button[_ngcontent-%COMP%]{--background: #810808;--color: white;--background-activated: #380404;margin:5px}ion-modal#add-faq-modal[_ngcontent-%COMP%]{--width: 90%;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#add-faq-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px}.statement[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.modal-question-container[_ngcontent-%COMP%], .modal-answer-container[_ngcontent-%COMP%]{padding:10px;width:100%}ion-textarea[_ngcontent-%COMP%]{border:solid 1px gray;border-radius:10px;--padding-end: 10px;--padding-start: 10px}.modal-icon[_ngcontent-%COMP%]{font-size:30px;color:#810808;padding-left:10px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px;width:100%}.add-button[_ngcontent-%COMP%]{--border-color: #810808;--background-activated: #810808;--color-activated: white;width:50%}.cancel-button[_ngcontent-%COMP%]{--background-activated: #810808;--color-activated: white;width:50%}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}"]}),c})()}];let P=(()=>{var t;class c{}return(t=c).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(C),g.Bz]}),c})(),y=(()=>{var t;class c{}return(t=c).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,d.u5,a.Pc,P]}),c})()}}]);