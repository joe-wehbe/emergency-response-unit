"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4011],{4011:(T,u,c)=>{c.r(u),c.d(u,{RegisterPageModule:()=>Z});var d=c(6814),l=c(6223),s=c(451),g=c(8179),m=c(5861),e=c(9212),h=c(2241),f=c(6401),M=c(8859);const p=o=>({selected:o});function x(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",8)(1,"ion-list")(2,"ion-radio-group",9),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw();return e.KtG(i.isERU=t)}),e.TgZ(3,"ion-item",10)(4,"ion-label"),e._uU(5,"Are you in the Emergency Response Unit?"),e.qZA()(),e.TgZ(6,"div",11)(7,"ion-item",12)(8,"ion-radio",13),e._uU(9,"No"),e.qZA()(),e.TgZ(10,"ion-item",12)(11,"ion-radio",14),e._uU(12,"Yes"),e.qZA()()()()(),e.TgZ(13,"div",15)(14,"ion-button",16),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.next())}),e._UZ(15,"ion-icon",17),e._uU(16," Continue "),e.qZA()()()}if(2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.isERU),e.xp6(5),e.Q6J("ngClass",e.VKq(3,p,"no"===n.isERU)),e.xp6(3),e.Q6J("ngClass",e.VKq(5,p,"yes"===n.isERU))}}function C(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"ion-list")(2,"ion-item",26)(3,"ion-input",27),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.fname=t)}),e._UZ(4,"ion-icon",28),e.qZA()(),e.TgZ(5,"ion-item",26)(6,"ion-input",29),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.lname=t)}),e._UZ(7,"ion-icon",30),e.qZA()(),e.TgZ(8,"ion-item",26)(9,"ion-input",31),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.studentId=t)}),e._UZ(10,"ion-icon",32),e.qZA()(),e.TgZ(11,"ion-item",26)(12,"ion-input",33),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.phone=t)}),e._UZ(13,"ion-icon",34),e.qZA()(),e.TgZ(14,"ion-item",26)(15,"ion-input",35),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.major=t)}),e._UZ(16,"ion-icon",36),e.qZA()(),e.TgZ(17,"ion-item",26)(18,"ion-input",37),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.email=t)}),e._UZ(19,"ion-icon",38),e.qZA()(),e.TgZ(20,"ion-item",26)(21,"ion-input",39),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.password=t)}),e._UZ(22,"ion-icon",40),e.TgZ(23,"ion-icon",41),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.togglePasswordVisibility())}),e.qZA()()(),e.TgZ(24,"ion-item",26)(25,"ion-input",42),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.confirmation=t)}),e._UZ(26,"ion-icon",43),e.qZA()()()()}if(2&o){const n=e.oxw(2);e.xp6(3),e.Q6J("ngModel",n.fname),e.xp6(3),e.Q6J("ngModel",n.lname),e.xp6(3),e.Q6J("ngModel",n.studentId),e.xp6(3),e.Q6J("ngModel",n.phone),e.xp6(3),e.Q6J("ngModel",n.major),e.xp6(3),e.Q6J("ngModel",n.email)("pattern",n.emailPattern),e.xp6(3),e.Q6J("type",n.showPassword?"text":"password")("ngModel",n.password),e.xp6(2),e.Q6J("name",n.showPassword?"eye-off":"eye"),e.xp6(2),e.Q6J("ngModel",n.confirmation)}}function v(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"ion-list")(2,"ion-item",26)(3,"ion-input",27),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.fname=t)}),e._UZ(4,"ion-icon",28),e.qZA()(),e.TgZ(5,"ion-item",26)(6,"ion-input",29),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.lname=t)}),e._UZ(7,"ion-icon",30),e.qZA()(),e.TgZ(8,"ion-item",26)(9,"ion-input",37),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.email=t)}),e._UZ(10,"ion-icon",38),e.qZA()(),e.TgZ(11,"ion-item",26)(12,"ion-input",39),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.password=t)}),e._UZ(13,"ion-icon",40),e.TgZ(14,"ion-icon",41),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.togglePasswordVisibility())}),e.qZA()()(),e.TgZ(15,"ion-item",26)(16,"ion-input",42),e.NdJ("ngModelChange",function(t){e.CHM(n);const i=e.oxw(2);return e.KtG(i.confirmation=t)}),e._UZ(17,"ion-icon",43),e.qZA()()()()}if(2&o){const n=e.oxw(2);e.xp6(3),e.Q6J("ngModel",n.fname),e.xp6(3),e.Q6J("ngModel",n.lname),e.xp6(3),e.Q6J("ngModel",n.email)("pattern",n.emailPattern),e.xp6(3),e.Q6J("type",n.showPassword?"text":"password")("ngModel",n.password),e.xp6(2),e.Q6J("name",n.showPassword?"eye-off":"eye"),e.xp6(2),e.Q6J("ngModel",n.confirmation)}}function P(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",18),e.YNc(1,C,27,11,"div",19)(2,v,18,8,"div",19),e.TgZ(3,"ion-button",20),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.register())}),e._UZ(4,"ion-icon",21),e._uU(5," Register "),e.qZA(),e.TgZ(6,"h6",22),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.navigateLogin())}),e._uU(7,"Already have an account?"),e.qZA(),e.TgZ(8,"div",23)(9,"ion-button",24),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.back())}),e._UZ(10,"ion-icon",25),e._uU(11," Back "),e.qZA()()()}if(2&o){const n=e.oxw();e.xp6(),e.Q6J("ngIf","yes"===n.isERU),e.xp6(),e.Q6J("ngIf","no"===n.isERU)}}const w=(o,r)=>({"curved-shape":o,"short-curved-shape":r}),y=[{path:"",component:(()=>{var o;class r{constructor(a,t,i,_,k){this.authService=a,this.router=t,this.toastController=i,this.appComponent=_,this.fcmService=k,this.fname="",this.lname="",this.studentId="",this.phone="",this.major="",this.email="",this.password="",this.confirmation="",this.isERU="no",this.showPassword=!1,this.showContent=!1,this.emailPattern="^[^\\s@]+@lau\\.edu(?:\\.lb)?$",this.text="Welcome to ERU, where help is just a click away!"}ngOnInit(){}register(){this.password&&this.email&&this.fname&&this.lname&&("yes"!=this.isERU||this.studentId&&this.major&&this.phone)?this.email.match(this.emailPattern)?(console.log("Student id: ",this.studentId),this.authService.register(this.fname,this.lname,this.studentId,this.phone,this.major,this.email,this.password,this.confirmation,this.isERU).subscribe(a=>{const t=JSON.parse(JSON.stringify(a)),i=t.status;if("Account exists"===i)this.presentToast("This email is already registered");else if("Invalid password"===i){const _=t.errors.join("\n");this.presentToast(_)}else"Password not confirmed"===i?this.presentToast("Incorrect password confirmation"):"Success"===i&&(console.log(t.token),localStorage.setItem("user_id",t.id),localStorage.setItem("first_name",this.fname),localStorage.setItem("last_name",this.lname),localStorage.setItem("lau_email",this.email),localStorage.setItem("profile_picture","undefined"),localStorage.setItem("user_type","2"),localStorage.setItem("auth_token",t.token),this.router.navigate(["/report"]),this.fcmService.initializePushNotifications(),this.appComponent.ngOnInit())})):this.presentToast("Invalid LAU email"):this.presentToast("All fields are required.")}next(){""!==this.isERU?this.showContent=!0:console.log("Please select whether you are in the emergency response unit or not."),this.text="Sign up with your LAU email"}back(){this.showContent=!1,this.text="Welcome to ERU, where help is just a click away!"}togglePasswordVisibility(){this.showPassword=!this.showPassword}presentToast(a){var t=this;return(0,m.Z)(function*(){(yield t.toastController.create({message:a,duration:2e3,position:"bottom"})).present()})()}navigateLogin(){this.router.navigate(["/login"])}}return(o=r).\u0275fac=function(a){return new(a||o)(e.Y36(h.e),e.Y36(g.F0),e.Y36(s.yF),e.Y36(f.y),e.Y36(M.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:10,vars:7,consts:[["mode","ios",1,"background"],[1,"logo-block"],["src","/assets/img/logo.png",1,"logo"],[3,"ngClass"],[1,"shape-content-container"],[1,"statement-container"],["class","initial-container",4,"ngIf"],["class","forms-container",4,"ngIf"],[1,"initial-container"],["mode","md",3,"ngModel","ngModelChange"],["lines","none",1,"radio-header-item"],[1,"options-container"],["lines","none",1,"radio-item",3,"ngClass"],["value","no"],["value","yes"],[1,"button-container"],[1,"continue-button",3,"click"],["name","arrow-forward-outline","slot","end"],[1,"forms-container"],[4,"ngIf"],[1,"register-button",3,"click"],["slot","start","name","log-in-outline"],[1,"no-account-text",3,"click"],[1,"back-button-container"],[1,"back-button",3,"click"],["name","arrow-back-outline","slot","start"],["lines","none"],["type","text","placeholder","First name","required","",3,"ngModel","ngModelChange"],["name","person-outline","slot","start"],["type","text","placeholder","Family name","required","",3,"ngModel","ngModelChange"],["name","people-outline","slot","start"],["type","number","placeholder","LAU ID","required","",3,"ngModel","ngModelChange"],["name","card-outline","slot","start"],["type","number","placeholder","Phone number","required","",3,"ngModel","ngModelChange"],["name","call-outline","slot","start"],["type","text","placeholder","Major","required","",3,"ngModel","ngModelChange"],["name","desktop-outline","slot","start"],["type","email","placeholder","Email","required","",3,"ngModel","pattern","ngModelChange"],["name","mail-outline","slot","start"],["placeholder","Password","required","",3,"type","ngModel","ngModelChange"],["name","lock-closed","slot","start"],["slot","end",3,"name","click"],["type","password","placeholder","Confirm your password","required","",3,"ngModel","ngModelChange"],["name","checkmark-circle-outline","slot","start"]],template:function(a,t){1&a&&(e.TgZ(0,"ion-content",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),e._uU(7),e.qZA()(),e.YNc(8,x,17,7,"div",6)(9,P,12,2,"div",7),e.qZA()()()),2&a&&(e.xp6(3),e.Q6J("ngClass",e.WLB(4,w,t.showContent,!t.showContent)),e.xp6(4),e.Oqu(t.text),e.xp6(),e.Q6J("ngIf",!t.showContent),e.xp6(),e.Q6J("ngIf",t.showContent))},dependencies:[d.mk,d.O5,l.JJ,l.Q7,l.c5,l.On,s.YG,s.W2,s.gu,s.pK,s.Ie,s.Q$,s.q_,s.B7,s.se,s.as,s.U5,s.QI,s.j9],styles:[".background[_ngcontent-%COMP%]{--ion-background-color:#FFEDED}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:100%}.logo-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.logo[_ngcontent-%COMP%]{width:50%}.curved-shape[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%;height:50em;bottom:0;background:linear-gradient(to top,#ffeded,#810808);clip-path:ellipse(160% 100% at 35% 100%);padding-top:3em}.short-curved-shape[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%;height:75%;bottom:0;background:linear-gradient(to top,#ffeded,#810808);clip-path:ellipse(140% 100% at 35% 100%);padding-top:3em}.shape-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;height:-moz-fit-content;height:fit-content;width:100%}.statement-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:2em;width:65%;color:#fff}.forms-container[_ngcontent-%COMP%], .initial-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;width:100%;animation:_ngcontent-%COMP%_fadeInAnimation .5s ease forwards;padding-top:1.5em}.initial-container[_ngcontent-%COMP%]{margin-top:2em}@keyframes _ngcontent-%COMP%_fadeInAnimation{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}ion-label[_ngcontent-%COMP%]{color:#000}ion-list[_ngcontent-%COMP%]{background-color:transparent;width:100%}ion-item[_ngcontent-%COMP%]{--background: transparent;margin:10px;color:#fff}ion-input[_ngcontent-%COMP%]{border-radius:25px;background:#ffeded;color:#000;--placeholder-color: #464141;margin:5px;--padding-end: 15px}.radio-item.selected[_ngcontent-%COMP%]{border:1px solid #810808;color:#810808}ion-icon[name=lock-closed][_ngcontent-%COMP%], ion-icon[name=mail-outline][_ngcontent-%COMP%], ion-icon[name=card-outline][_ngcontent-%COMP%], ion-icon[name=call-outline][_ngcontent-%COMP%], ion-icon[name=desktop-outline][_ngcontent-%COMP%], ion-icon[name=checkmark-circle-outline][_ngcontent-%COMP%], ion-icon[name=person-outline][_ngcontent-%COMP%], ion-icon[name=people-outline][_ngcontent-%COMP%]{padding-left:.5em;font-size:25px;color:#810808}ion-icon[name=eye][_ngcontent-%COMP%], ion-icon[name=eye-off][_ngcontent-%COMP%]{padding-right:.5em;font-size:25px;color:#810808}ion-checkbox[_ngcontent-%COMP%]{--size: 32px;margin-top:1em;margin-bottom:1em;--checkbox-background-checked: #810808;--border-color-checked: #810808;--checkbox-background: white;--border-color: gray;color:#000}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px}.register-button[_ngcontent-%COMP%]{width:40%;--background: #FFEDED;--color: black;border-radius:15px;box-shadow:0 4px 4px #00000059;--background-activated: #810808;--background-activated-opacity: .3}.radio-header-item[_ngcontent-%COMP%]{padding-left:1em}.options-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.radio-item[_ngcontent-%COMP%]{background-color:#ffffff4d;border-radius:15px;width:80%;margin:5px}ion-radio[_ngcontent-%COMP%]{--color: white;--color-checked: #810808}ion-item[_ngcontent-%COMP%]{margin:0}.button-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;width:100%}.no-account-text[_ngcontent-%COMP%]{color:#000;text-decoration:underline}.no-account-text[_ngcontent-%COMP%]:active{color:#810808}.continue-button[_ngcontent-%COMP%]{width:40%;--background: transparent;--color: #810808;--background-activated: none;--background-activated-opacity: .3}.back-button[_ngcontent-%COMP%]{width:25%;--background: transparent;--color: #810808;--background-activated: none;--background-activated-opacity: .3}.back-button-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;width:100%}.continue-button[_ngcontent-%COMP%]:active{color:gray}"]}),r})()}];let b=(()=>{var o;class r{}return(o=r).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(y),g.Bz]}),r})(),Z=(()=>{var o;class r{}return(o=r).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,l.u5,s.Pc,b]}),r})()}}]);