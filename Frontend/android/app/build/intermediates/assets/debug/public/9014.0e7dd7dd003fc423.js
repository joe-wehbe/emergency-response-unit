"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9014],{9014:(w,d,c)=>{c.r(d),c.d(d,{CaseReportFormPageModule:()=>R});var g=c(6814),_=c(6223),l=c(451),s=c(8179),p=c(5861),t=c(9212),m=c(4050),u=c(6530);function h(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-select",31),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.patientCondition=n)}),t.TgZ(2,"ion-select-option",32),t._uU(3,"Serious"),t.qZA(),t.TgZ(4,"ion-select-option",33),t._uU(5,"Not serious"),t.qZA(),t.TgZ(6,"ion-select-option",34),t._uU(7,"Other"),t.qZA(),t._UZ(8,"ion-icon",35),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.patientCondition)}}function C(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",36),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.otherPatientCondition=n)}),t._UZ(2,"ion-icon",35),t.TgZ(3,"ion-icon",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.enableSelectionPC())}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.otherPatientCondition)}}function f(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-select",38),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.treatmentAdministration=n)}),t.TgZ(2,"ion-select-option",39),t._uU(3,"First Responder Team"),t.qZA(),t.TgZ(4,"ion-select-option",40),t._uU(5,"LAU Clinic"),t.qZA(),t.TgZ(6,"ion-select-option",41),t._uU(7,"None"),t.qZA(),t.TgZ(8,"ion-select-option",34),t._uU(9,"Other"),t.qZA(),t._UZ(10,"ion-icon",42),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.treatmentAdministration)}}function x(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",43),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.otherTreatmentAdministration=n)}),t._UZ(2,"ion-icon",42),t.TgZ(3,"ion-icon",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.enableSelectionTA())}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.otherTreatmentAdministration)}}function M(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-select",44),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.transportation=n)}),t.TgZ(2,"ion-select-option",40),t._uU(3,"LAU Clinic"),t.qZA(),t.TgZ(4,"ion-select-option",45),t._uU(5,"Hospital"),t.qZA(),t.TgZ(6,"ion-select-option",41),t._uU(7,"None"),t.qZA(),t.TgZ(8,"ion-select-option",34),t._uU(9,"Other"),t.qZA(),t._UZ(10,"ion-icon",46),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.transportation)}}function Z(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",47),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.otherTransportation=n)}),t._UZ(2,"ion-icon",46),t.TgZ(3,"ion-icon",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.enableSelectionT())}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.otherTransportation)}}function T(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-select",48),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.consultation=n)}),t.TgZ(2,"ion-select-option",26),t._uU(3,"Yes"),t.qZA(),t.TgZ(4,"ion-select-option",27),t._uU(5,"No"),t.qZA(),t.TgZ(6,"ion-select-option",34),t._uU(7,"Other"),t.qZA(),t._UZ(8,"ion-icon",49),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.consultation)}}function b(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",50),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.otherConsultation=n)}),t._UZ(2,"ion-icon",49),t.TgZ(3,"ion-icon",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.enableSelectionC())}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(),t.Q6J("ngModel",e.otherConsultation)}}function y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"ion-content")(1,"div",8)(2,"div",9),t._uU(3," Fill the case report form "),t.qZA(),t.TgZ(4,"ion-list")(5,"div",10)(6,"ion-input",11),t.ALo(7,"date"),t._UZ(8,"ion-icon",12),t.qZA()(),t.TgZ(9,"div",10)(10,"ion-input",13),t.ALo(11,"date"),t._UZ(12,"ion-icon",14),t.qZA()(),t.TgZ(13,"div",10)(14,"ion-input",15),t._UZ(15,"ion-icon",16),t.qZA()(),t.TgZ(16,"div",10)(17,"ion-input",17),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.patientName=n)}),t._UZ(18,"ion-icon",18),t.qZA()(),t.TgZ(19,"div",10)(20,"ion-input",19),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.location=n)}),t._UZ(21,"ion-icon",20),t.qZA()(),t.TgZ(22,"div",10),t.YNc(23,h,9,1,"ng-container",7)(24,C,4,1,"ng-container",7),t.qZA(),t.TgZ(25,"div",10)(26,"ion-textarea",21),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.history=n)}),t._UZ(27,"ion-icon",22),t.qZA()(),t.TgZ(28,"div",10),t.YNc(29,f,11,1,"ng-container",7)(30,x,4,1,"ng-container",7),t.qZA(),t.TgZ(31,"div",10),t.YNc(32,M,11,1,"ng-container",7)(33,Z,4,1,"ng-container",7),t.qZA(),t.TgZ(34,"div",10),t.YNc(35,T,9,1,"ng-container",7)(36,b,4,1,"ng-container",7),t.qZA(),t.TgZ(37,"div",10)(38,"ion-input",23),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.equipment=n)}),t._UZ(39,"ion-icon",24),t.qZA()(),t.TgZ(40,"div",10)(41,"ion-select",25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.issues=n)}),t.TgZ(42,"ion-select-option",26),t._uU(43,"Yes"),t.qZA(),t.TgZ(44,"ion-select-option",27),t._uU(45,"No"),t.qZA(),t._UZ(46,"ion-icon",28),t.qZA()()(),t.TgZ(47,"div",29)(48,"ion-button",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addCaseReport())}),t._uU(49,"Submit"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("value",t.xi3(7,19,e.emergency.created_at,"dd/MM/yy"))("disabled",!0),t.xp6(4),t.Q6J("value",t.xi3(11,22,e.emergency.created_at,"hh:mm"))("disabled",!0),t.xp6(4),t.Q6J("value",e.emergency.medic.first_name+" "+e.emergency.medic.last_name)("disabled",!0),t.xp6(3),t.Q6J("ngModel",e.patientName),t.xp6(3),t.Q6J("ngModel",e.location),t.xp6(3),t.Q6J("ngIf","other"!==e.patientCondition),t.xp6(),t.Q6J("ngIf","other"===e.patientCondition),t.xp6(2),t.Q6J("ngModel",e.history),t.xp6(3),t.Q6J("ngIf","other"!==e.treatmentAdministration),t.xp6(),t.Q6J("ngIf","other"===e.treatmentAdministration),t.xp6(2),t.Q6J("ngIf","other"!==e.transportation),t.xp6(),t.Q6J("ngIf","other"===e.transportation),t.xp6(2),t.Q6J("ngIf","other"!==e.consultation),t.xp6(),t.Q6J("ngIf","other"===e.consultation),t.xp6(2),t.Q6J("ngModel",e.equipment),t.xp6(3),t.Q6J("ngModel",e.issues)}}function P(o,r){1&o&&(t.TgZ(0,"ion-content")(1,"div",51),t._UZ(2,"ion-spinner",52),t.qZA()())}const A=[{path:"",component:(()=>{var o;class r{constructor(i,n,a,J,q){this.router=i,this.route=n,this.emergencyService=a,this.userService=J,this.toastController=q,this.patientName="",this.location="",this.patientCondition="Serious",this.otherPatientCondition="",this.history="",this.treatmentAdministration="first responder team",this.otherTreatmentAdministration="",this.transportation="lau clinic",this.otherTransportation="",this.consultation="yes",this.otherConsultation="",this.equipment="",this.issues="yes",this.otherInput="",this.emergencyId=0,this.previousRoute="/case-report",this.isLoading=!1}ngOnInit(){this.route.queryParams.subscribe(i=>{this.previousRoute=i.from||"/case-report"}),this.getEmergency()}getEmergency(){this.isLoading=!0,this.route.params.subscribe(i=>{this.emergencyId=i.id,this.emergencyService.getEmergency(this.emergencyId).subscribe({next:n=>{console.log("Fetched emergency data:",n),this.emergency=n.emergency,this.patientName=this.emergency.patient_name,this.location=this.emergency.location,"Serious"==this.emergency.patient_condition||"Not Serious"==this.emergency.patient_condition||null==this.emergency.patient_condition?this.patientCondition=this.emergency.patient_condition:(this.patientCondition="other",this.otherPatientCondition=this.emergency.patient_condition)},error:n=>{console.error("Error getting emergency info:",n)},complete:()=>{this.isLoading=!1}})})}addCaseReport(){this.emergencyId&&this.patientName&&this.location&&this.patientCondition&&this.history&&this.treatmentAdministration&&this.transportation&&this.equipment&&this.consultation&&this.issues?this.userService.addCaseReport(this.emergencyId,this.patientName,this.location,"other"==this.patientCondition?this.otherPatientCondition:this.patientCondition,this.history,"other"==this.treatmentAdministration?this.otherTreatmentAdministration:this.treatmentAdministration,"other"==this.transportation?this.otherTransportation:this.transportation,this.equipment,"other"==this.consultation?this.otherConsultation:this.consultation,this.issues).subscribe({next:i=>{console.log("Case submitted successfully:",i),this.router.navigate(["./case-reports"]).then(()=>{window.location.reload()})},error:i=>{console.error("Error sumbitting:",i)}}):this.presentToast("All fields are required")}presentToast(i){var n=this;return(0,p.Z)(function*(){(yield n.toastController.create({message:i,duration:2e3,position:"bottom"})).present()})()}optionSelected(){("other"!==this.patientCondition||"other"!==this.treatmentAdministration||"other"!==this.transportation||"other"!==this.consultation||"other"!==this.issues)&&(this.otherInput="")}enableSelectionPC(){this.patientCondition=""}enableSelectionTA(){this.treatmentAdministration=""}enableSelectionT(){this.transportation=""}enableSelectionC(){this.consultation=""}back(){this.router.navigate([this.previousRoute])}}return(o=r).\u0275fac=function(i){return new(i||o)(t.Y36(s.F0),t.Y36(s.gz),t.Y36(m.m),t.Y36(u.K),t.Y36(l.yF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-case-report-form"]],decls:10,vars:2,consts:[["id","main-content"],[1,"header-toolbar"],[1,"toolbar-container"],["slot","start"],[3,"click"],["name","chevron-back-outline",1,"back-button"],[1,"title"],[4,"ngIf"],[1,"mainpage"],[1,"stmt"],[1,"question"],["label","Date of incident","mode","md","label-placement","floating","fill","outline",3,"value","disabled"],["name","calendar-number-outline","slot","start",1,"modal-icon"],["label","Time of incident","mode","md","label-placement","floating","fill","outline",3,"value","disabled"],["name","time-outline","slot","start",1,"modal-icon"],["label","Medic on site","type","text","mode","md","label-placement","floating","fill","outline",3,"value","disabled"],["name","people-outline","slot","start",1,"modal-icon"],["label","Patient's name","type","text","mode","md","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],["name","body-outline","slot","start",1,"modal-icon"],["label","Location of incident","type","text","mode","md","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],["name","location-outline","slot","start",1,"modal-icon"],["label","History","mode","md","type","text","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],["name","document-text-outline","slot","start",1,"modal-icon"],["label","Material/equipment used (if any)","type","text","mode","md","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],["name","bandage-outline","slot","start",1,"modal-icon"],["label","Any issues encountered by the dispatch team","mode","md","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],["value","yes"],["value","no"],["name","warning-outline","slot","start",1,"modal-icon"],[1,"submit-button-container"],["fill","outline","mode","ios",1,"submit-button",3,"click"],["label","Patient's condition","mode","md","label-placement","floating","fill","outline","placeholder","Patient condition",1,"patient-input",3,"ngModel","ngModelChange"],["value","Serious"],["value","Not serious"],["value","other"],["name","warning-outline","slot","start"],["label","Patient's condition","mode","md","label-placement","floating","fill","outline","placeholder","Specify...",1,"patient-input",3,"ngModel","ngModelChange"],["name","backspace-outline","slot","end",1,"backToSelect",3,"click"],["label","Medication/Treatment administered by","mode","md","label-placement","floating","fill","outline","placeholder","Medication/Treatment administered by",1,"patient-input",3,"ngModel","ngModelChange"],["value","first responder team"],["value","lau clinic"],["value","none"],["name","medkit-outline","slot","start"],["label","Medication/Treatment administered by","mode","md","label-placement","floating","fill","outline","placeholder","Specify...",1,"patient-input",3,"ngModel","ngModelChange"],["label","Transportation requested to","mode","md","label-placement","floating","fill","outline","placeholder","Transportation requested to",1,"patient-input",3,"ngModel","ngModelChange"],["value","hospital"],["name","car-outline","slot","start"],["label","Transportation requested to","mode","md","label-placement","floating","fill","outline","placeholder","Specify...",1,"patient-input",3,"ngModel","ngModelChange"],["label","Consultation done with nurse","mode","md","label-placement","floating","fill","outline","placeholder","Consultation done with nurse",1,"patient-input",3,"ngModel","ngModelChange"],["name","chatbubbles-outline","slot","start"],["label","Consultation done with nurse","mode","md","label-placement","floating","fill","outline","placeholder","Specify...",1,"patient-input",3,"ngModel","ngModelChange"],[1,"body"],["name","crescent"]],template:function(i,n){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-buttons",3)(4,"ion-button",4),t.NdJ("click",function(){return n.back()}),t._UZ(5,"ion-icon",5),t.qZA()(),t.TgZ(6,"ion-title",6),t._uU(7,"Case Report Form"),t.qZA()()()(),t.YNc(8,y,50,25,"ion-content",7)(9,P,3,0,"ion-content",7)),2&i&&(t.xp6(8),t.Q6J("ngIf",n.emergency),t.xp6(),t.Q6J("ngIf",!n.emergency&&n.isLoading))},dependencies:[g.O5,_.JJ,_.On,l.YG,l.Sm,l.W2,l.Gu,l.gu,l.pK,l.q_,l.t9,l.n0,l.PQ,l.g2,l.wd,l.sr,l.QI,l.j9,g.uU],styles:[".header-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.back-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.mainpage[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:center;align-items:center;font-size:.85em;padding-top:2em}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:18px;font-weight:700}ion-list[_ngcontent-%COMP%]{width:100%;background-color:transparent}.question[_ngcontent-%COMP%]{margin:1.5em}ion-input[_ngcontent-%COMP%]{border:2px}ion-icon[_ngcontent-%COMP%]{font-size:22px}ion-select[_ngcontent-%COMP%]{--highlight-color: #810808}ion-textarea[_ngcontent-%COMP%]{--highlight-color: #810808;border:2px}ion-input.has-focus[_ngcontent-%COMP%]{--highlight-color: #810808}ion-input.has-focus[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#810808}ion-select.has-focus[_ngcontent-%COMP%]{--highlight-color: #810808}ion-textarea.has-focus[_ngcontent-%COMP%]{--highlight-color: #810808}ion-textarea.has-focus[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#810808}.submit-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.submit-button[_ngcontent-%COMP%]{width:40%;padding-bottom:2em;--border-color: #810808;--background-activated: #810808;--color-activated: white}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}"]}),r})()}];let v=(()=>{var o;class r{}return(o=r).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(A),s.Bz]}),r})();var F=c(9862);let R=(()=>{var o;class r{}return(o=r).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,_.u5,F.JF,l.Pc,v]}),r})()}}]);