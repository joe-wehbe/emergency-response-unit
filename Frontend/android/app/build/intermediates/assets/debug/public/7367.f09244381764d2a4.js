"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7367],{7367:(A,p,c)=>{c.r(p),c.d(p,{ManageMembersPageModule:()=>T});var g=c(6814),_=c(6223),s=c(451),d=c(8179),e=c(9212),m=c(6530);const u=["modal"];function f(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-item",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.applyFilter("On shift"))}),e._uU(3,"On shift"),e.qZA(),e.TgZ(4,"ion-item",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.applyFilter("Dispatcher"))}),e._uU(5,"Dispatchers"),e.qZA(),e.TgZ(6,"ion-item",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.applyFilter("Medic"))}),e._uU(7,"Medics"),e.qZA(),e.TgZ(8,"ion-item",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.applyFilter("Admin"))}),e._uU(9,"Admins"),e.qZA(),e.TgZ(10,"ion-item",13),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.applyFilter("All members"))}),e._uU(11,"All members"),e.qZA()()()}2&t&&(e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1))}function h(t,a){1&t&&(e.ynx(0),e._UZ(1,"div",24),e.BQk())}function x(t,a){1&t&&(e.ynx(0),e._UZ(1,"div",25),e.BQk())}function M(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ion-col",17)(1,"ion-card",18),e.NdJ("click",function(){const r=e.CHM(o).$implicit,l=e.oxw(4);return e.KtG(l.goToProfile(r.id))}),e.TgZ(2,"div",19)(3,"ion-avatar",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"div",22),e._uU(6),e._UZ(7,"br"),e._uU(8),e.qZA(),e.TgZ(9,"div",23),e._uU(10),e.qZA()(),e.YNc(11,h,2,0,"ng-container",12)(12,x,2,0,"ng-container",12),e.qZA()()}if(2&t){const o=a.$implicit;e.xp6(6),e.hij(" ",o.firstName," "),e.xp6(2),e.hij(" ",o.lastName," "),e.xp6(2),e.Oqu(o.role),e.xp6(),e.Q6J("ngIf",!o.hasShift),e.xp6(),e.Q6J("ngIf",o.hasShift)}}function b(t,a){if(1&t&&(e.TgZ(0,"ion-list")(1,"ion-list-header",15),e._uU(2),e.qZA(),e.TgZ(3,"ion-grid")(4,"ion-row"),e.YNc(5,M,13,5,"ion-col",16),e.qZA()()()),2&t){const o=e.oxw().$implicit;e.xp6(2),e.hij(" ",o.letter," "),e.xp6(3),e.Q6J("ngForOf",o.users)}}function P(t,a){if(1&t&&(e.ynx(0),e.YNc(1,b,6,2,"ion-list",12),e.BQk()),2&t){const o=a.$implicit;e.xp6(),e.Q6J("ngIf",o.users.length>0)}}function y(t,a){1&t&&(e.ynx(0),e.TgZ(1,"div",26)(2,"p",27),e._uU(3,"No members found"),e.qZA()(),e.BQk())}function O(t,a){if(1&t&&(e.ynx(0),e.YNc(1,P,2,1,"ng-container",14)(2,y,4,0,"ng-container",12),e.BQk()),2&t){const o=e.oxw();e.xp6(),e.Q6J("ngForOf",o.filteredGroupedUsers),e.xp6(),e.Q6J("ngIf",0===o.filteredGroupedUsers.length)}}function C(t,a){1&t&&(e.ynx(0),e.TgZ(1,"div",26),e._UZ(2,"ion-spinner",28),e.qZA(),e.BQk())}function w(t,a){1&t&&(e.ynx(0),e.TgZ(1,"div",26)(2,"div",29)(3,"p"),e._uU(4,"No members"),e.qZA(),e.TgZ(5,"p",30),e._uU(6,"Members will appear here once registered"),e.qZA(),e._UZ(7,"ion-img",31),e.qZA()(),e.BQk())}function Z(t,a){if(1&t&&(e.ynx(0),e.YNc(1,C,3,0,"ng-container",12)(2,w,8,0,"ng-container",12),e.BQk()),2&t){const o=e.oxw();e.xp6(),e.Q6J("ngIf",o.isLoading),e.xp6(),e.Q6J("ngIf",!o.isLoading)}}const U=[{path:"",component:(()=>{var t;class a{constructor(n,i){this.router=n,this.userService=i,this.allUsers=[],this.users=[],this.groupedUsers=[],this.filteredGroupedUsers=[],this.selectedFilter="",this.placeholder="",this.isLoading=!1}ngOnInit(){this.getAllMembers(),this.updatePlaceholder()}getAllMembers(){this.isLoading=!0,this.userService.getAllMembers().subscribe({next:n=>{if(n&&n.hasOwnProperty("users")){console.log("Fetched all users: ",n);const i=JSON.parse(JSON.stringify(n));this.allUsers=[].concat.apply([],Object.values(i.users)),this.allUsers.forEach(r=>{this.users.push({id:r.id,firstName:r.first_name,lastName:r.last_name,role:r.rank.rank_name,phoneNumber:r.phone_number,studentId:r.student_id,major:r.major,bio:r.bio,tags:r.tags,hasShift:r.has_shift})}),this.groupUsers(),this.filteredGroupedUsers=[...this.groupedUsers]}else console.log("No users")},error:n=>{console.error("Error retrieving users:",n)},complete:()=>{this.isLoading=!1}})}groupUsers(){this.users.sort((i,r)=>i.firstName.localeCompare(r.firstName));const n={};this.users.forEach(i=>{const r=i.firstName.charAt(0).toUpperCase();n[r]=n[r]||[],n[r].push(i)}),this.groupedUsers=Object.keys(n).map(i=>({letter:i,users:n[i]}))}handleInput(n){const i=n.target.value.trim().toLowerCase();""!==i?this.filteredGroupedUsers=this.filteredGroupedUsers.map(r=>({letter:r.letter,users:r.users.filter(l=>(l.firstName.toLowerCase()+" "+l.lastName.toLowerCase()).includes(i))})).filter(r=>r.users.length>0):this.selectedFilter?this.applyFilter(this.selectedFilter):this.filteredGroupedUsers=[...this.groupedUsers]}applyFilter(n){this.selectedFilter=n,this.filteredGroupedUsers="All members"===n?[...this.groupedUsers]:"On shift"===n?[{letter:"On Shift",users:this.users.filter(i=>!0===i.hasShift)}]:this.groupedUsers.map(i=>({letter:i.letter,users:i.users.filter(r=>r.role.split("&").map(l=>l.trim()).includes(n))})).filter(i=>i.users.length>0),this.updatePlaceholder()}updatePlaceholder(){(""==this.selectedFilter||"All members"==this.selectedFilter)&&(this.placeholder="all members..."),"Dispatcher"==this.selectedFilter&&(this.placeholder="dispatchers..."),"Medic"==this.selectedFilter&&(this.placeholder="medics..."),"Admin"==this.selectedFilter&&(this.placeholder="admins..."),"Admin"==this.selectedFilter&&(this.placeholder="admins..."),"On shift"==this.selectedFilter&&(this.placeholder="users on shift...")}back(){this.router.navigate(["./admin-panel"])}goToProfile(n){this.router.navigate(["/user-profile",n])}}return(t=a).\u0275fac=function(n){return new(n||t)(e.Y36(d.F0),e.Y36(m.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-members"]],viewQuery:function(n,i){if(1&n&&e.Gf(u,5),2&n){let r;e.iGM(r=e.CRH())&&(i.modal=r.first)}},decls:16,vars:5,consts:[["id","main-content"],[1,"header-toolbar"],[1,"toolbar-container"],["slot","start"],[3,"click"],["name","chevron-back-outline",1,"back-button"],[1,"title"],["name","filter-outline","slot","end","id","popover-button",1,"filter-button"],["trigger","popover-button",3,"dismissOnSelect"],[1,"background"],[1,"search-bar-container"],["mode","md",1,"search-bar",3,"debounce","placeholder","ionInput"],[4,"ngIf"],[3,"button","detail","click"],[4,"ngFor","ngForOf"],["lines","inset"],["size","4",4,"ngFor","ngForOf"],["size","4"],[1,"card",3,"click"],[1,"card-content"],[1,"icon"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"user-name"],[1,"user-role"],[1,"gray-bottom"],[1,"green-bottom"],[1,"body"],[1,"no-results"],["name","crescent"],[1,"stmt"],[1,"second-stmt"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-buttons",3)(4,"ion-button",4),e.NdJ("click",function(){return i.back()}),e._UZ(5,"ion-icon",5),e.qZA()(),e.TgZ(6,"ion-title",6),e._uU(7,"Manage Members"),e.qZA(),e._UZ(8,"ion-icon",7),e.TgZ(9,"ion-popover",8),e.YNc(10,f,12,10,"ng-template"),e.qZA()()()(),e.TgZ(11,"ion-content",9)(12,"div",10)(13,"ion-searchbar",11),e.NdJ("ionInput",function(l){return i.handleInput(l)}),e.qZA()(),e.YNc(14,O,3,2,"ng-container",12)(15,Z,3,2,"ng-container",12),e.qZA()),2&n&&(e.xp6(9),e.Q6J("dismissOnSelect",!0),e.xp6(4),e.MGl("placeholder","Search ",i.placeholder,""),e.Q6J("debounce",800),e.xp6(),e.Q6J("ngIf",i.allUsers.length>0),e.xp6(),e.Q6J("ngIf",0==i.allUsers.length))},dependencies:[g.sg,g.O5,s.BJ,s.YG,s.Sm,s.PM,s.wI,s.W2,s.jY,s.Gu,s.gu,s.Xz,s.Ie,s.q_,s.yh,s.Nd,s.VI,s.PQ,s.wd,s.sr,s.d8,s.j9],styles:['.header-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.back-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.filter-button[_ngcontent-%COMP%]{width:20%;font-size:30px}.filter-button[_ngcontent-%COMP%]:active{color:gray;width:20%;font-size:30px}.search-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:1.2em}ion-searchbar.search-bar[_ngcontent-%COMP%]{padding:0 10px;border:solid 1px;border-radius:20px;--background: transparent;--box-shadow: none}ion-list[_ngcontent-%COMP%]{background-color:transparent}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0;box-shadow:0 0 8px #0000004d}.card[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.icon[_ngcontent-%COMP%]{margin:5%;height:65px;width:65px}.user-name[_ngcontent-%COMP%]{padding-top:5px;font-weight:700;text-align:center}.user-role[_ngcontent-%COMP%]{opacity:.8;text-align:center}.gray-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:100%;background-color:#838383}.green-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:100%;background-color:green;opacity:.8}ion-fab-button[_ngcontent-%COMP%]{--background: #810808;--color: white;--background-activated: #380404;margin:5px}ion-modal[_ngcontent-%COMP%]{--height: 60%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.modal-profile-pic[_ngcontent-%COMP%]{margin:5%;height:75px;width:80px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:70%}.np-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.name[_ngcontent-%COMP%], .position[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.position[_ngcontent-%COMP%]{font-size:.8rem;padding-left:5px}.modal-grid[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.modal-row[_ngcontent-%COMP%]{height:3em}.modal-col[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}ion-img[_ngcontent-%COMP%]{width:40px;padding-right:10px}.seperator[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:10px;padding-right:10px}.first-line[_ngcontent-%COMP%]{position:relative;width:30%;height:1px;background-color:#837272}.first-line[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;left:0;top:-5px}.section-name[_ngcontent-%COMP%]{font-size:16px;padding:5px;font-style:italic}.second-line[_ngcontent-%COMP%]{position:relative;width:100%;height:1px;background-color:#837272}.second-line[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;right:0;top:-5px}.experience-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.first-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px;margin-bottom:10px}h6[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;font-style:italic;margin:0}.experience-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;box-shadow:0 0 8px #0000004d}.experience-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter}.second-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px}.skills-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;box-shadow:0 0 8px #0000004d}ion-badge[_ngcontent-%COMP%]{background:#810808;font-weight:400}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}']}),a})()}];let k=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(U),d.Bz]}),a})();var v=c(9862);let T=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,_.u5,s.Pc,k,v.JF]}),a})()}}]);