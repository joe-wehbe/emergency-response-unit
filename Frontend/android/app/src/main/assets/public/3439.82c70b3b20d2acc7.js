"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3439],{3439:(I,m,r)=>{r.r(m),r.d(m,{StandbyPageModule:()=>j});var _=r(6814),d=r(6223),a=r(451),l=r(8179),p=r(5861),e=r(9212),u=r(4050);function f(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",51),e._uU(2),e.ALo(3,"date"),e._UZ(4,"br"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,2,t.emergency.created_at,"dd/MM"),""),e.xp6(3),e.hij(" ",e.xi3(6,5,t.emergency.created_at,"h:mm")," ")}}function x(n,o){if(1&n&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"date"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(),e.hij(" ",e.xi3(2,2,t.emergency.created_at,"dd/MM"),""),e.xp6(3),e.hij(" ",e.xi3(5,5,t.emergency.created_at,"h:mm")," ")}}function h(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",53)(2,"p"),e._uU(3,"Medic:"),e.qZA(),e.TgZ(4,"p",54),e._uU(5),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.AsE("",t.emergency.medic.first_name," ",t.emergency.medic.last_name,"")}}function y(n,o){1&n&&(e.TgZ(0,"div",53)(1,"p"),e._uU(2,"Medic:"),e.qZA(),e.TgZ(3,"p",55),e._uU(4,"N/A"),e.qZA()())}function Z(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",56)(2,"p"),e._uU(3,"Patient:"),e.qZA(),e.TgZ(4,"p",57),e._uU(5),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(t.emergency.patient_name)}}function b(n,o){1&n&&(e.TgZ(0,"div",56)(1,"p"),e._uU(2,"Patient:"),e.qZA(),e.TgZ(3,"p",58),e._uU(4,"N/A"),e.qZA()())}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",15),e.NdJ("click",function(){const g=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.navigateEmergencyDetails(g.emergency.id))}),e.YNc(1,f,7,8,"ng-container",12)(2,x,6,8,"ng-template",null,16,e.W1O),e.TgZ(4,"div",17)(5,"div",18)(6,"p",19),e._uU(7),e.qZA()(),e.TgZ(8,"div",20)(9,"p",21),e._uU(10),e.qZA()()(),e._UZ(11,"div",22),e.TgZ(12,"div",23),e.YNc(13,h,6,2,"ng-container",12)(14,y,5,0,"ng-template",null,24,e.W1O)(16,Z,6,1,"ng-container",12)(17,b,5,0,"ng-template",null,25,e.W1O),e.TgZ(19,"div",26)(20,"div",27),e._UZ(21,"ion-img",28),e.TgZ(22,"p",29),e._uU(23),e.qZA()(),e.TgZ(24,"div",30),e._UZ(25,"ion-img",31),e.TgZ(26,"p",32),e._uU(27),e.qZA()(),e.TgZ(28,"div",33),e._UZ(29,"ion-img",34),e.TgZ(30,"p",35),e._uU(31),e.qZA()(),e.TgZ(32,"div",36),e._UZ(33,"ion-img",37),e.TgZ(34,"p",38),e._uU(35),e.qZA()(),e.TgZ(36,"div",39),e._UZ(37,"ion-img",40),e.TgZ(38,"p",41),e._uU(39),e.qZA()(),e.TgZ(40,"div",42),e._UZ(41,"ion-img",43),e.TgZ(42,"p",44),e._uU(43),e.qZA()(),e.TgZ(44,"div",45),e._UZ(45,"ion-img",46),e.TgZ(46,"p",47),e._uU(47),e.qZA()(),e.TgZ(48,"div",48),e._UZ(49,"ion-img",49),e.TgZ(50,"p",50),e._uU(51),e.qZA()()()()()}if(2&n){const t=o.$implicit,i=e.MAs(3),c=e.MAs(15),g=e.MAs(18);e.xp6(),e.Q6J("ngIf",null!==t.emergency.medic)("ngIfElse",i),e.xp6(6),e.Oqu(t.emergency.location),e.xp6(3),e.Oqu(t.emergency.reporter_description),e.xp6(3),e.Q6J("ngIf",null!==t.emergency.medic)("ngIfElse",c),e.xp6(3),e.Q6J("ngIf",null!==t.emergency.patient_name)("ngIfElse",g),e.xp6(7),e.Oqu(t.last_assessment&&t.last_assessment.heart_rate||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.blood_pressure||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.oxygen_saturation||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.temperature||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.respiration_rate||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.capillary_refill_time||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.hemoglucotest||"N/A"),e.xp6(4),e.Oqu(t.last_assessment&&t.last_assessment.pupils_reaction||"N/A")}}function O(n,o){if(1&n&&(e.ynx(0),e.YNc(1,P,52,16,"ion-card",14),e.BQk()),2&n){const t=e.oxw(2);e.xp6(),e.Q6J("ngForOf",t.ongoingEmergencies)}}function A(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",59),e._UZ(2,"ion-spinner",60),e.qZA(),e.BQk())}function M(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",59)(2,"div",61)(3,"p"),e._uU(4,"No ongoing emergencies"),e.qZA(),e.TgZ(5,"p",62),e._uU(6,"Stay alert, emergencies can happen anytime!"),e.qZA(),e._UZ(7,"ion-img",63),e.qZA()(),e.BQk())}function v(n,o){if(1&n&&e.YNc(0,A,3,0,"ng-container",11)(1,M,8,0,"ng-container",11),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.isLoading),e.xp6(),e.Q6J("ngIf",!t.isLoading)}}function T(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O,2,1,"ng-container",12)(2,v,2,2,"ng-template",null,13,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(),e.Q6J("ngIf",i.ongoingEmergencies.length>0)("ngIfElse",t)}}function C(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",56)(2,"p"),e._uU(3,"Patient:"),e.qZA(),e.TgZ(4,"p",57),e._uU(5),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(t.patient_name)}}function U(n,o){1&n&&(e.TgZ(0,"div",56)(1,"p"),e._uU(2,"Patient:"),e.qZA(),e.TgZ(3,"p",58),e._uU(4,"N/A"),e.qZA()())}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",66)(1,"div",51),e._uU(2),e.ALo(3,"date"),e._UZ(4,"br"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",17)(8,"div",18)(9,"div",19),e._uU(10),e.qZA()(),e.TgZ(11,"div",20)(12,"p",21),e._uU(13),e.qZA()()(),e._UZ(14,"div",22),e.TgZ(15,"div",23)(16,"div",53)(17,"p"),e._uU(18,"Medic:"),e.qZA(),e.TgZ(19,"p",54),e._uU(20),e.qZA()(),e.YNc(21,C,6,1,"ng-container",12)(22,U,5,0,"ng-template",null,25,e.W1O),e.TgZ(24,"div",67)(25,"button",68),e.NdJ("click",function(){const g=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.openActionSheet(g.id))}),e._uU(26,"View options"),e.qZA(),e._UZ(27,"ion-action-sheet",69),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.MAs(23);e.xp6(2),e.hij(" ",e.xi3(3,8,t.created_at,"dd/MM"),""),e.xp6(3),e.hij(" ",e.xi3(6,11,t.created_at,"hh:mm")," "),e.xp6(5),e.hij(" ",t.location," "),e.xp6(3),e.hij(" ",t.reporter_description,""),e.xp6(7),e.AsE("",t.medic.first_name," ",t.medic.last_name,""),e.xp6(),e.Q6J("ngIf",null!==t.patient_name)("ngIfElse",i)}}function q(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S,28,14,"ion-card",65),e.BQk()),2&n){const t=e.oxw(2);e.xp6(),e.Q6J("ngForOf",t.endedEmergencies)}}function E(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",59),e._UZ(2,"ion-spinner",60),e.qZA(),e.BQk())}function w(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",59)(2,"div",61)(3,"p"),e._uU(4,"No ended emergencies"),e.qZA(),e.TgZ(5,"p",62),e._uU(6,"Ended emergencies with no report will appear here."),e.qZA(),e._UZ(7,"ion-img",63),e.qZA()(),e.BQk())}function N(n,o){if(1&n&&e.YNc(0,E,3,0,"ng-container",11)(1,w,8,0,"ng-container",11),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.isLoading),e.xp6(),e.Q6J("ngIf",!t.isLoading)}}function Q(n,o){if(1&n&&(e.ynx(0),e.YNc(1,q,2,1,"ng-container",12)(2,N,2,2,"ng-template",null,64,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(),e.Q6J("ngIf",i.endedEmergencies.length>0)("ngIfElse",t)}}const k=[{path:"",component:(()=>{var n;class o{constructor(i,c,g){this.router=i,this.alertController=c,this.emergencyService=g,this.selectedSegment="Ongoing",this.ongoingEmergencies=[],this.endedEmergencies=[],this.isLoading=!1}ngOnInit(){this.getOngoingEmergencies(),this.getEndedEmergencies()}getOngoingEmergencies(){this.isLoading=!0,this.emergencyService.getOngoingEmergencies().subscribe({next:i=>{if(i&&i.hasOwnProperty("emergencies")){console.log("Fetched Ongoing emergencies: ",i);const c=JSON.parse(JSON.stringify(i));this.ongoingEmergencies=[].concat.apply([],Object.values(c.emergencies))}else console.log("No ongoing emergencies")},error:i=>{console.error("Error retrieving ongoing emergencies:",i)},complete:()=>{this.isLoading=!1}})}getEndedEmergencies(){this.emergencyService.getEndedEmergencies().subscribe({next:i=>{if(i&&i.hasOwnProperty("emergencies")){console.log("Fetched ended emergencies: ",i);const c=JSON.parse(JSON.stringify(i));this.endedEmergencies=[].concat.apply([],Object.values(c.emergencies))}else console.log("No ended emergencies")},error:i=>{console.error("Error retrieving ended emergencies:",i)}})}openActionSheet(i){const c=document.createElement("ion-action-sheet");c.header="Select",c.buttons=[{text:"Submit case report",data:{action:"report"},handler:()=>{this.router.navigate(["/case-report-form",i],{queryParams:{from:"tabs/standby"}})}},{text:"Emergency details",data:{action:"details"},handler:()=>{this.navigateEmergencyDetails(i)}},{text:"Delete",role:"destructive",cssClass:"delete-button",data:{action:"delete"},handler:()=>{this.deleteEmergencyAlert(i)}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}],document.body.appendChild(c),c.present()}deleteEmergencyAlert(i){var c=this;return(0,p.Z)(function*(){yield(yield c.alertController.create({header:"Delete Emergency",subHeader:"Delete an emergency if you do not need to submit its case report form!",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Delete",cssClass:"alert-button-ok-red",handler:()=>{c.emergencyService.deleteEmergency(i).subscribe({next:s=>{console.log("Emergency deleted successfully: ",s)},error:s=>{console.error("Error deleting emergency:",s)}})}}]})).present()})()}navigateEmergencyDetails(i){this.router.navigate(["./emergency-details",i])}}return(n=o).\u0275fac=function(i){return new(i||n)(e.Y36(l.F0),e.Y36(a.Br),e.Y36(u.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-standby"]],decls:20,vars:5,consts:[["id","main-content"],[1,"toolbar"],["slot","start"],[1,"title"],[1,"background"],["mode","md",1,"segments"],["value","Ongoing",3,"ngModel","ngModelChange"],["value","Ongoing"],["name","hourglass-outline"],["value","Ended"],["name","shield-checkmark-outline"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noOngoingEmergencies",""],["class","ongoing-card",3,"click",4,"ngFor","ngForOf"],[1,"ongoing-card",3,"click"],["noMedicResponded",""],[1,"second-box"],[1,"location-container"],[1,"location"],[1,"description-container"],[1,"description"],[1,"seperator"],[1,"third-box"],["noMedicName",""],["noPatientName",""],[1,"vitals"],[1,"heart-rate"],["src","assets/icon/hr.png"],[1,"hr"],[1,"blood-pressure"],["src","assets/icon/bp.png"],[1,"bp"],[1,"spo2"],["src","assets/icon/spo2.png"],[1,"sp"],[1,"temperature"],["src","assets/icon/temp.png"],[1,"temp"],[1,"respiration-rate"],["src","assets/icon/rr.png"],[1,"rr"],[1,"capillary-refill"],["src","assets/icon/crt.png"],[1,"crt"],[1,"hemo-gluco-test"],["src","assets/icon/hgt.png"],[1,"hgt"],[1,"pupils-reaction"],["src","assets/icon/pr.png"],[1,"pr"],[1,"first-box-green"],[1,"first-box-red"],[1,"medic"],[1,"medic-name-green"],[1,"medic-name-red"],[1,"patient"],[1,"patient-name-green"],[1,"patient-name-red"],[1,"body"],["name","crescent"],[1,"stmt"],[1,"second-stmt"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"],["noEndedEmergencies",""],["class","ended-card",4,"ngFor","ngForOf"],[1,"ended-card"],[1,"options"],["id","open-action-sheet",3,"click"],["header","Select",1,"action-sheet"]],template:function(i,c){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Standby"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"div",5)(8,"ion-segment",6),e.NdJ("ngModelChange",function(s){return c.selectedSegment=s}),e.TgZ(9,"ion-segment-button",7)(10,"ion-label"),e._uU(11),e.qZA(),e._UZ(12,"ion-icon",8),e.qZA(),e.TgZ(13,"ion-segment-button",9)(14,"ion-label"),e._uU(15),e.qZA(),e.TgZ(16,"ion-icon",10),e._uU(17,"Ongoing"),e.qZA()()()(),e.YNc(18,T,4,2,"ng-container",11)(19,Q,4,2,"ng-container",11),e.qZA()),2&i&&(e.xp6(8),e.Q6J("ngModel",c.selectedSegment),e.xp6(3),e.hij("Ongoing (",c.ongoingEmergencies.length,")"),e.xp6(4),e.hij("Ended (",c.endedEmergencies.length,")"),e.xp6(3),e.Q6J("ngIf","Ongoing"===c.selectedSegment),e.xp6(),e.Q6J("ngIf","Ended"===c.selectedSegment))},dependencies:[_.sg,_.O5,d.JJ,d.On,a.uo,a.Sm,a.PM,a.W2,a.Gu,a.gu,a.Xz,a.Q$,a.fG,a.cJ,a.GO,a.PQ,a.wd,a.sr,a.QI,_.uU],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60px}ion-menu-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.segments[_ngcontent-%COMP%]{padding:10px}ion-segment-button[_ngcontent-%COMP%]{text-transform:none;font-weight:700}.segment-button-checked.md[_ngcontent-%COMP%]::part(native){color:#810808}ion-segment-button.md[_ngcontent-%COMP%]::part(indicator-background){height:4px;background:#810808}ion-segment-button.ios[_ngcontent-%COMP%]::part(native){color:#810808}.segment-button-checked.ios[_ngcontent-%COMP%]::part(native){color:#fff}ion-segment-button.ios[_ngcontent-%COMP%]::part(indicator-background){border-radius:20px;background:#810808}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;text-align:center;font-size:16px}.ongoing-card[_ngcontent-%COMP%], .ended-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:0 0 8px #0000004d;height:7em;margin:10px}.ongoing-card[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}.first-box-green[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:-moz-fit-content;width:fit-content;padding:3px;background-color:#08811b;color:#fff;text-align:center}.first-box-red[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:-moz-fit-content;width:fit-content;padding:3px;background-color:#810808;color:#fff;text-align:center}.second-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:column;width:32%;padding:5px}.location-container[_ngcontent-%COMP%]{width:100%;overflow:auto;height:-moz-fit-content;height:fit-content;text-align:center}.location[_ngcontent-%COMP%]{font-size:15px;margin:0;font-weight:700}.description-container[_ngcontent-%COMP%]{width:100%;text-align:center;overflow:auto;height:-moz-fit-content;height:fit-content}.seperator[_ngcontent-%COMP%]{width:1px;height:100%;background-color:gray}.third-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:60%;height:100%;padding-left:5px;padding-right:5px;padding-top:5px}.medic[_ngcontent-%COMP%], .patient[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;height:22%;font-size:15px}.medic-name-green[_ngcontent-%COMP%], .patient-name-green[_ngcontent-%COMP%]{color:#08811b}.medic-name-red[_ngcontent-%COMP%], .patient-name-red[_ngcontent-%COMP%]{color:#810808}.vitals[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;overflow:auto}ion-img[_ngcontent-%COMP%]{width:20px}.heart-rate[_ngcontent-%COMP%], .blood-pressure[_ngcontent-%COMP%], .spo2[_ngcontent-%COMP%], .temperature[_ngcontent-%COMP%], .respiration-rate[_ngcontent-%COMP%], .capillary-refill[_ngcontent-%COMP%], .pupils-reaction[_ngcontent-%COMP%], .hemo-gluco-test[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:3px}.options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding-bottom:1em}#open-action-sheet[_ngcontent-%COMP%]{margin-top:1em;height:2.5em;border-radius:5px;width:100%}#open-action-sheet[_ngcontent-%COMP%]:active{margin-top:1em;height:2.5em;border-radius:5px;width:100%;animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}"]}),o})()}];let J=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(k),l.Bz]}),o})(),j=(()=>{var n;class o{}return(n=o).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,d.u5,a.Pc,J]}),o})()}}]);