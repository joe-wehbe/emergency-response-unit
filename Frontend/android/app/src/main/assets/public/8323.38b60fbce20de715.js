"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8323],{8323:(M,d,c)=>{c.r(d),c.d(d,{SignupRequestsPageModule:()=>Z});var l=c(6814),m=c(6223),r=c(451),p=c(8179),g=c(5861),e=c(9212),f=c(82);function _(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-card")(1,"div",13)(2,"p",14),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"p",15),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"div",16)(9,"p",17),e._uU(10),e.qZA(),e.TgZ(11,"div",18),e._UZ(12,"ion-icon",19),e.TgZ(13,"p",20),e._uU(14),e.qZA()(),e.TgZ(15,"div",21),e._UZ(16,"ion-icon",22),e.TgZ(17,"p",23),e._uU(18),e.qZA()(),e.TgZ(19,"div",24),e._UZ(20,"ion-icon",25),e.TgZ(21,"p",26),e._uU(22),e.qZA()(),e.TgZ(23,"div",27),e._UZ(24,"ion-icon",28),e.TgZ(25,"p",29),e._uU(26),e.qZA()()(),e.TgZ(27,"div",30)(28,"ion-icon",31),e.NdJ("click",function(){const a=e.CHM(i).$implicit,u=e.oxw(2);return e.KtG(u.acceptAlert(a.id))}),e.qZA(),e.TgZ(29,"ion-icon",32),e.NdJ("click",function(){const a=e.CHM(i).$implicit,u=e.oxw(2);return e.KtG(u.rejectAlert(a.id))}),e.qZA()()()}if(2&t){const i=s.$implicit;e.xp6(3),e.Oqu(e.xi3(4,8,i.created_at,"dd/MM/yyyy")),e.xp6(3),e.Oqu(e.xi3(7,11,i.created_at,"h:mm")),e.xp6(4),e.AsE("",i.user.first_name," ",i.user.last_name,""),e.xp6(4),e.Oqu(i.email),e.xp6(4),e.Oqu(i.user.student_id),e.xp6(4),e.Oqu(i.user.phone_number),e.xp6(4),e.Oqu(i.user.major)}}function h(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p",10),e._uU(5,"Check if the user trying to register is an ERU member"),e.qZA()(),e.TgZ(6,"div",11),e.YNc(7,_,30,14,"ion-card",12),e.qZA(),e.BQk()),2&t){const i=e.oxw();e.xp6(3),e.hij("",i.requests.length," registration request"),e.xp6(4),e.Q6J("ngForOf",i.requests)}}function q(t,s){1&t&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"ion-spinner",34),e.qZA(),e.BQk())}function x(t,s){1&t&&(e.ynx(0),e.TgZ(1,"div",33)(2,"div",9)(3,"p"),e._uU(4,"No registration requests"),e.qZA(),e.TgZ(5,"p",10),e._uU(6,"Registration requests will appear here"),e.qZA(),e._UZ(7,"ion-img",35),e.qZA()(),e.BQk())}function y(t,s){if(1&t&&(e.ynx(0),e.YNc(1,q,3,0,"ng-container",8)(2,x,8,0,"ng-container",8),e.BQk()),2&t){const i=e.oxw();e.xp6(),e.Q6J("ngIf",i.isLoading),e.xp6(),e.Q6J("ngIf",!i.isLoading)}}const P=[{path:"",component:(()=>{var t;class s{constructor(n,o,a,u){this.router=n,this.alertController=o,this.adminService=a,this.toastController=u,this.requests=[],this.isLoading=!1}ngOnInit(){this.requests=[],this.getSignupRequests()}getSignupRequests(){this.isLoading=!0,this.adminService.getSignupRequests().subscribe({next:n=>{if(n&&n.hasOwnProperty("requests")){console.log("Fetched signup requests:",n);const o=JSON.parse(JSON.stringify(n));this.requests=[].concat.apply([],Object.values(o.requests))}else console.log("No signup requests")},error:n=>{console.error("Error fetching signup requests:",n)},complete:()=>{this.isLoading=!1}})}acceptSignupRequest(n){this.adminService.acceptSignupRequest(n).subscribe({next:()=>{console.log("Signup request accepted"),this.presentToast("Registration request accepted"),this.ngOnInit()},error:o=>{console.error("Error accepting signup requests:",o)}})}acceptAlert(n){var o=this;return(0,g.Z)(function*(){var u;yield(yield o.alertController.create({header:"Accept Request",subHeader:"Are you sure you want to accept this sign up request?",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Accept",cssClass:"alert-button-ok-green",handler:(u=(0,g.Z)(function*(){o.acceptSignupRequest(n)}),function(){return u.apply(this,arguments)})}]})).present()})()}rejectSignupRequest(n){this.adminService.rejectSignupRequest(n).subscribe({next:()=>{console.log("Signup request rejected"),this.presentToast("Registration request rejected"),this.ngOnInit()},error:o=>{console.error("Error rejecting signup requests:",o)}})}rejectAlert(n){var o=this;return(0,g.Z)(function*(){var u;yield(yield o.alertController.create({header:"Reject Request",subHeader:"Are you sure you want to reject this sign up request?",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Reject",cssClass:"alert-button-ok-red",handler:(u=(0,g.Z)(function*(){o.rejectSignupRequest(n)}),function(){return u.apply(this,arguments)})}]})).present()})()}presentToast(n){var o=this;return(0,g.Z)(function*(){(yield o.toastController.create({message:n,duration:2e3,position:"bottom"})).present()})()}back(){this.router.navigate(["/admin-panel"])}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(p.F0),e.Y36(r.Br),e.Y36(f.l),e.Y36(r.yF))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup-requests"]],decls:11,vars:2,consts:[["id","main-content"],[1,"header-toolbar"],[1,"toolbar-container"],["slot","start"],[3,"click"],["name","chevron-back-outline",1,"back-button"],[1,"title"],[1,"background"],[4,"ngIf"],[1,"stmt"],[1,"second-stmt"],[1,"cards"],[4,"ngFor","ngForOf"],[1,"first-block"],[1,"date"],[1,"time"],[1,"second-block"],[1,"name"],[1,"email-container"],["name","mail-outline"],[1,"email"],[1,"id-container"],["name","card-outline"],[1,"id"],[1,"number-container"],["name","call-outline"],[1,"number"],[1,"major-container"],["name","desktop-outline"],[1,"major"],[1,"third-block"],["name","checkmark-circle-outline",1,"accept-icon",3,"click"],["name","close-circle-outline",1,"reject-icon",3,"click"],[1,"body"],["name","crescent"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-buttons",3)(4,"ion-button",4),e.NdJ("click",function(){return o.back()}),e._UZ(5,"ion-icon",5),e.qZA()(),e.TgZ(6,"ion-title",6),e._uU(7,"Requests"),e.qZA()()()(),e.TgZ(8,"ion-content",7),e.YNc(9,h,8,2,"ng-container",8)(10,y,3,2,"ng-container",8),e.qZA()),2&n&&(e.xp6(9),e.Q6J("ngIf",o.requests.length>0),e.xp6(),e.Q6J("ngIf",0==o.requests.length))},dependencies:[l.sg,l.O5,r.YG,r.Sm,r.PM,r.W2,r.Gu,r.gu,r.Xz,r.PQ,r.wd,r.sr,l.uU],styles:[".header-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.back-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}ion-card[_ngcontent-%COMP%]{display:flex;align-items:center;box-shadow:0 0 8px #0000004d;width:90%;height:7em;margin:7px}.first-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:-moz-fit-content;width:fit-content;height:100%;background-color:#838383;color:#fff;padding:5px}.date[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{margin:0}.second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:60%;padding:20px}.name[_ngcontent-%COMP%]{margin:0;font-size:17px}.email-container[_ngcontent-%COMP%], .id-container[_ngcontent-%COMP%], .number-container[_ngcontent-%COMP%], .major-container[_ngcontent-%COMP%]{display:flex;align-items:center}.email[_ngcontent-%COMP%], .id[_ngcontent-%COMP%], .number[_ngcontent-%COMP%], .major[_ngcontent-%COMP%]{margin:0;padding-left:5px}.third-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;width:20%;padding-right:10px}.accept-icon[_ngcontent-%COMP%]{font-size:30px;color:green}.reject-icon[_ngcontent-%COMP%]{font-size:30px;color:red}.accept-icon[_ngcontent-%COMP%]:active, .reject-icon[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}"]}),s})()}];let C=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(P),p.Bz]}),s})(),Z=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,m.u5,r.Pc,C]}),s})()}}]);