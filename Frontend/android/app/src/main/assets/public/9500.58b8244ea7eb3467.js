"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9500],{9500:(Q,u,c)=>{c.r(u),c.d(u,{ExtensionsPageModule:()=>T});var g=c(6814),p=c(6223),r=c(451),l=c(8179),n=c(9212),d=c(6530);function m(e,i){if(1&e&&(n.TgZ(0,"ion-item",12)(1,"span",13),n._uU(2),n.qZA(),n.TgZ(3,"ion-text",14),n._uU(4),n.qZA()()),2&e){const o=i.$implicit;n.xp6(2),n.Oqu(o.name),n.xp6(2),n.Oqu(o.number)}}function f(e,i){if(1&e&&(n.TgZ(0,"ion-list")(1,"ion-list-header",10),n._uU(2),n.qZA(),n.TgZ(3,"ion-card"),n.YNc(4,m,5,2,"ion-item",11),n.qZA()()),2&e){const o=n.oxw().$implicit;n.xp6(),n.Q6J("id","header-"+o.letter),n.xp6(),n.Oqu(o.letter),n.xp6(2),n.Q6J("ngForOf",o.extensions)}}function _(e,i){if(1&e&&(n.ynx(0),n.YNc(1,f,5,3,"ion-list",7),n.BQk()),2&e){const o=i.$implicit;n.xp6(),n.Q6J("ngIf",o.extensions.length>0)}}function h(e,i){if(1&e&&(n.ynx(0),n.YNc(1,_,2,1,"ng-container",9),n.BQk()),2&e){const o=n.oxw(2);n.xp6(),n.Q6J("ngForOf",o.filteredGroupedExtensions)}}function E(e,i){1&e&&(n.ynx(0),n.TgZ(1,"div",15)(2,"p",16),n._uU(3,"No extensions found"),n.qZA()(),n.BQk())}function P(e,i){if(1&e&&(n.ynx(0),n.TgZ(1,"div",8),n.YNc(2,h,2,1,"ng-container",7)(3,E,4,0,"ng-container",7),n.qZA(),n.BQk()),2&e){const o=n.oxw();n.xp6(2),n.Q6J("ngIf",o.filteredGroupedExtensions.length>0),n.xp6(),n.Q6J("ngIf",0==o.filteredGroupedExtensions.length)}}function y(e,i){1&e&&(n.ynx(0),n.TgZ(1,"div",15),n._UZ(2,"ion-spinner",17),n.qZA(),n.BQk())}function O(e,i){1&e&&(n.ynx(0),n.TgZ(1,"div",15)(2,"div",18)(3,"p"),n._uU(4,"No extensions "),n.qZA(),n.TgZ(5,"p",19),n._uU(6,"Phone extensions will appear here"),n.qZA(),n._UZ(7,"ion-img",20),n.qZA()(),n.BQk())}function Z(e,i){if(1&e&&(n.ynx(0),n.YNc(1,y,3,0,"ng-container",7)(2,O,8,0,"ng-container",7),n.BQk()),2&e){const o=n.oxw();n.xp6(),n.Q6J("ngIf",o.isLoading),n.xp6(),n.Q6J("ngIf",!o.isLoading)}}const v=[{path:"",component:(()=>{var e;class i{constructor(t,s){this.router=t,this.userService=s,this.extensions=[],this.allExtensions=[],this.groupedExtensions=[],this.filteredGroupedExtensions=[],this.isLoading=!1}ngOnInit(){this.getExtensions()}getExtensions(){this.isLoading=!0,this.userService.getExtensions().subscribe({next:t=>{if(t&&t.hasOwnProperty("extensions")){console.log("Fetched all extensions: ",t);const s=JSON.parse(JSON.stringify(t));this.allExtensions=[].concat.apply([],Object.values(s.extensions)),this.allExtensions.forEach(a=>{this.extensions.push({name:a.name,number:a.number})}),this.groupExtensions(),this.filteredGroupedExtensions=[...this.groupedExtensions]}else console.log("No extensions")},error:t=>{console.error("Error retrieving extensions:",t)},complete:()=>{this.isLoading=!1}})}groupExtensions(){this.extensions.sort((s,a)=>s.name.localeCompare(a.name));const t={};this.extensions.forEach(s=>{const a=s.name.charAt(0).toUpperCase();t[a]=t[a]||[],t[a].push(s)}),this.groupedExtensions=Object.keys(t).map(s=>({letter:s,extensions:t[s]}))}handleInput(t){const s=t.target.value.trim().toLowerCase();this.filteredGroupedExtensions=""!==s?this.groupedExtensions.map(a=>({letter:a.letter,extensions:a.extensions.filter(x=>x.name.toLowerCase().includes(s))})).filter(a=>a.extensions.length>0):[...this.groupedExtensions]}back(){this.router.navigate(["/admin-panel"])}}return(e=i).\u0275fac=function(t){return new(t||e)(n.Y36(l.F0),n.Y36(d.K))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-extensions"]],decls:11,vars:3,consts:[["id","main-content"],[1,"toolbar"],["slot","start"],[1,"title"],[1,"background"],[1,"search-bar-container"],["mode","md","placeholder","Search extensions...",1,"search-bar",3,"debounce","ionInput"],[4,"ngIf"],[1,"lists-container"],[4,"ngFor","ngForOf"],[3,"id"],["lines","full",4,"ngFor","ngForOf"],["lines","full"],[1,"first-name"],["slot","end"],[1,"body"],[1,"no-results"],["name","crescent"],[1,"stmt"],[1,"second-stmt"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"]],template:function(t,s){1&t&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),n._UZ(3,"ion-menu-button"),n.qZA(),n.TgZ(4,"ion-title",3),n._uU(5,"Extensions"),n.qZA()()(),n.TgZ(6,"ion-content",4)(7,"div",5)(8,"ion-searchbar",6),n.NdJ("ionInput",function(x){return s.handleInput(x)}),n.qZA()(),n.YNc(9,P,4,2,"ng-container",7)(10,Z,3,2,"ng-container",7),n.qZA()),2&t&&(n.xp6(8),n.Q6J("debounce",800),n.xp6(),n.Q6J("ngIf",s.allExtensions.length>0),n.xp6(),n.Q6J("ngIf",0==s.allExtensions.length))},dependencies:[g.sg,g.O5,r.Sm,r.PM,r.W2,r.Gu,r.Xz,r.Ie,r.q_,r.yh,r.fG,r.VI,r.PQ,r.yW,r.wd,r.sr,r.j9],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60px}ion-menu-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.search-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:1.2em}ion-searchbar.search-bar[_ngcontent-%COMP%]{padding:0 10px;border:solid 1px;border-radius:20px;--background: transparent;--box-shadow: none}.lists-container[_ngcontent-%COMP%]{margin:1em}ion-list[_ngcontent-%COMP%]{--ion-item-background: transparent}ion-list-header[_ngcontent-%COMP%]{font-weight:700}ion-card[_ngcontent-%COMP%]{margin:0}ion-item[_ngcontent-%COMP%]:active{opacity:.2}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}"]}),i})()}];let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.Bz.forChild(v),l.Bz]}),i})();var b=c(9862);let C=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,r.Pc]}),i})(),T=(()=>{var e;class i{}return(e=i).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,p.u5,b.JF,r.Pc,M,C]}),i})()}}]);