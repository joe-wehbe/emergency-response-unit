"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1006],{1006:(J,f,c)=>{c.r(f),c.d(f,{EditProfilePageModule:()=>w});var l=c(6814),d=c(6223),r=c(451),g=c(8179),u=c(5861),t=c(9212),h=c(6530);function x(n,s){1&n&&(t.TgZ(0,"ion-text",46),t._uU(1,"Nothing to show here"),t.qZA())}function m(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-badge"),t._uU(2),t.qZA(),t.BQk()),2&n){const i=s.$implicit;t.xp6(2),t.Oqu(i.trim())}}function P(n,s){if(1&n&&(t.ynx(0),t.YNc(1,m,3,1,"ng-container",47),t.BQk()),2&n){const i=t.oxw(2);t.xp6(),t.Q6J("ngForOf",i.tags.split(","))}}function b(n,s){1&n&&(t.TgZ(0,"ion-text",48),t._uU(1,"Nothing to show here"),t.qZA())}function C(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"div",49)(1,"p",50),t._uU(2," Editing accomplishments"),t.qZA(),t.TgZ(3,"div",51)(4,"ion-text"),t._uU(5,"Talk about your accomplishments"),t.qZA(),t.TgZ(6,"ion-textarea",52),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.bio=o)}),t.qZA()(),t.TgZ(7,"div",53)(8,"ion-button",54),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.dismissBio())}),t._uU(9,"Cancel"),t.qZA(),t.TgZ(10,"ion-button",55),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.save())}),t._uU(11,"Save"),t.qZA()()()}if(2&n){const i=t.oxw(2);t.xp6(6),t.Q6J("ngModel",i.bio)("autoGrow",!0)}}function Z(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"div",49)(1,"p",50),t._uU(2," Editing skills"),t.qZA(),t.TgZ(3,"div",51)(4,"ion-text"),t._uU(5,"Seperate tags with a comma"),t.qZA(),t.TgZ(6,"ion-textarea",56),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.tags=o)}),t.qZA()(),t.TgZ(7,"div",53)(8,"ion-button",54),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.dismissTags())}),t._uU(9,"Cancel"),t.qZA(),t.TgZ(10,"ion-button",55),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.save())}),t._uU(11,"Save"),t.qZA()()()}if(2&n){const i=t.oxw(2);t.xp6(6),t.Q6J("ngModel",i.tags)("autoGrow",!0)}}function y(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"ion-content",9)(1,"ion-card",10)(2,"div",11)(3,"ion-avatar",12),t._UZ(4,"img",13),t.qZA(),t.TgZ(5,"div",14)(6,"div",15)(7,"h2",16),t._uU(8),t.qZA(),t.TgZ(9,"p",17),t._uU(10),t.qZA()(),t.TgZ(11,"div",18)(12,"ion-icon",19),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.navigateProfile())}),t.qZA()()()(),t.TgZ(13,"ion-grid",20)(14,"ion-row")(15,"ion-col",21),t._UZ(16,"ion-img",22),t.TgZ(17,"p",23),t._uU(18),t.qZA()(),t.TgZ(19,"ion-col",21),t._UZ(20,"ion-img",24),t.TgZ(21,"p",23),t._uU(22),t.qZA()()(),t.TgZ(23,"ion-row")(24,"ion-col",21),t._UZ(25,"ion-img",25),t.TgZ(26,"p",23),t._uU(27),t.qZA()(),t.TgZ(28,"ion-col",21),t._UZ(29,"ion-img",26),t.TgZ(30,"p",23),t._uU(31),t.qZA()()()(),t.TgZ(32,"div",27),t._UZ(33,"div",28),t.TgZ(34,"p",29),t._uU(35,"Experience"),t.qZA(),t._UZ(36,"div",30),t.qZA(),t.TgZ(37,"div",31)(38,"div",32)(39,"h6"),t._uU(40,"Talk about your accomplishments"),t.qZA(),t.TgZ(41,"ion-card",33)(42,"ion-text",34),t._uU(43),t.qZA(),t.YNc(44,x,2,0,"ion-text",35),t.qZA()(),t.TgZ(45,"div",36)(46,"h6"),t._uU(47,"Show your skills in the medical field"),t.qZA(),t.TgZ(48,"ion-card",37),t.YNc(49,P,2,1,"ng-container",8)(50,b,2,0,"ion-text",38),t.qZA()()(),t.TgZ(51,"div",27),t._UZ(52,"div",28),t.TgZ(53,"p",29),t._uU(54,"Schedule"),t.qZA(),t._UZ(55,"div",30),t.qZA(),t.TgZ(56,"div",39),t._UZ(57,"ion-datetime",40),t.qZA(),t.TgZ(58,"div",41)(59,"ion-button",42),t._uU(60,"Mark attendance"),t.qZA()()(),t.TgZ(61,"ion-modal",43,44),t.YNc(63,C,12,2,"ng-template"),t.qZA(),t.TgZ(64,"ion-modal",45,44),t.YNc(66,Z,12,2,"ng-template"),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(8),t.AsE("",i.user.first_name," ",i.user.last_name,""),t.xp6(2),t.Oqu(i.user.rank.rank_name),t.xp6(3),t.Q6J("fixed",!0),t.xp6(5),t.hij("",i.user.lau_email," "),t.xp6(4),t.hij(" ",i.user.phone_number,""),t.xp6(5),t.Oqu(i.user.student_id),t.xp6(4),t.Oqu(i.user.major),t.xp6(12),t.Oqu(i.bio),t.xp6(),t.Q6J("ngIf",!i.bio),t.xp6(5),t.Q6J("ngIf",i.user&&i.user.tags),t.xp6(),t.Q6J("ngIf",!i.tags),t.xp6(7),t.Q6J("readonly",!0)("firstDayOfWeek",1)("highlightedDates",i.highlightedDates)}}function M(n,s){1&n&&(t.TgZ(0,"ion-content")(1,"div",57),t._UZ(2,"ion-spinner",58),t.qZA()())}const v=[{path:"",component:(()=>{var n;class s{constructor(e,o,a,T,k){var p;this.router=e,this.alertController=o,this.modalController=a,this.toastController=T,this.userService=k,this.userId=null!==(p=localStorage.getItem("user_id"))&&void 0!==p?p:"",this.userShifts=[],this.shifts=[],this.semesterData=[],this.isLoading=!1,this.bio="",this.tags="",this.highlightedDates=U=>{const _=new Date(U);if(this.semesterData.length>0){const E=new Date(this.semesterData[0].start_date),A=new Date(this.semesterData[0].end_date);if(_>=E&&_<=A){const q=_.toLocaleDateString("en-US",{weekday:"long"});return this.shifts.filter(S=>S.day===q).length>0?{textColor:"#800080",backgroundColor:"#ffc0cb"}:void 0}}}}ngOnInit(){this.getUserInfo(),this.getUserShifts(),this.getSemester()}getUserInfo(){this.isLoading=!0,this.userService.getUserInfo(this.userId).subscribe({next:e=>{console.log("Fetched user data:",e),this.user=e.User,this.bio=this.user.bio,this.tags=this.user.tags},error:e=>{console.error("Error getting user info:",e)},complete:()=>{this.isLoading=!1}})}getUserShifts(){this.userService.getUserShifts(this.userId).subscribe({next:e=>{console.log("Fetched user shifts:",e);const o=JSON.parse(JSON.stringify(e));this.userShifts=[].concat.apply([],Object.values(o.Shifts)),this.userShifts.forEach(a=>{this.shifts.push({day:a.shift.day,start_time:a.shift.time_start,end_time:a.shift.time_end})})},error:e=>{console.error("Error getting user info:",e)},complete:()=>{}})}getSemester(){this.userService.getSemester().subscribe({next:e=>{console.log("Fetched semester data",e),this.semesterData=e.Semester},error:e=>{console.error("Error getting semester data:",e)},complete:()=>{}})}editBio(){this.userService.editBio(this.bio).subscribe({next:e=>{console.log("Bio updated successfully: ",e)},error:e=>{console.error("Error updating bio: ",e)},complete:()=>{}})}editTags(){this.userService.editTags(this.tags).subscribe({next:e=>{console.log("Tags updated successfully: ",e)},error:e=>{console.error("Error updating tags: ",e)},complete:()=>{}})}navigateProfile(){var e=this;return(0,u.Z)(function*(){yield(yield e.alertController.create({header:"Save Changes?",subHeader:"Are you sure you want to save changes you made?",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Save",cssClass:"alert-button-ok-green",handler:()=>{e.bio!=e.user.bio&&e.tags==e.user.tags?e.editBio():e.bio==e.user.bio&&e.tags!=e.user.tags?e.editTags():e.bio!=e.user.bio&&e.tags!=e.user.tags&&(e.editBio(),e.editTags()),e.presentToast("Changes saved"),e.router.navigate(["./profile"]).then(()=>{window.location.reload()})}}]})).present()})()}back(){var e=this;return(0,u.Z)(function*(){yield(yield e.alertController.create({header:"Discard Changes?",subHeader:"Are you sure you want to discard any changes you made?",cssClass:"alert-dialog",buttons:[{text:"Cancel",role:"cancel",cssClass:"alert-button-cancel"},{text:"Discard",cssClass:"alert-button-ok-red",handler:()=>{e.router.navigate(["./profile"])}}]})).present()})()}save(){this.modalController.dismiss()}dismissBio(){this.bio=this.user.bio,this.modalController.dismiss()}dismissTags(){this.tags=this.user.tags,this.modalController.dismiss()}presentToast(e){var o=this;return(0,u.Z)(function*(){(yield o.toastController.create({message:e,duration:2e3,position:"bottom"})).present()})()}}return(n=s).\u0275fac=function(e){return new(e||n)(t.Y36(g.F0),t.Y36(r.Br),t.Y36(r.IN),t.Y36(r.yF),t.Y36(h.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-profile"]],decls:10,vars:2,consts:[["id","main-content"],[1,"header-toolbar"],[1,"toolbar-container"],["slot","start"],[3,"click"],["name","chevron-back-outline",1,"back-button"],[1,"title"],["class","gradient-background",4,"ngIf"],[4,"ngIf"],[1,"gradient-background"],[1,"card-container"],[1,"header"],[1,"icon"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"container"],[1,"np-container"],[1,"name"],[1,"position"],[1,"save-button"],["name","checkbox-outline",3,"click"],[1,"grid-container",3,"fixed"],["size","6","size-md","4","size-lg","2"],["src","assets/icon/email.png"],[1,"entry"],["src","assets/icon/phone.png"],["src","assets/icon/id.png"],["src","assets/icon/major.png"],[1,"seperator"],[1,"first-line"],[1,"section-name"],[1,"second-line"],[1,"experience-sections"],["id","edit-first-section",1,"first-experience-section"],[1,"experience-card"],[1,"experience-text"],["class","no-experience-text",4,"ngIf"],["id","edit-second-section",1,"second-experience-section"],[1,"skills-card"],["class","no-tags-text",4,"ngIf"],[1,"calendar-container"],["mode","md","presentation","date",1,"calendar",3,"readonly","firstDayOfWeek","highlightedDates"],[1,"attendance-button-container"],["fill","outline","disabled","",1,"attendance-button"],["id","edit-first-section-modal","trigger","edit-first-section"],["modal",""],["id","edit-second-section-modal","trigger","edit-second-section"],[1,"no-experience-text"],[4,"ngFor","ngForOf"],[1,"no-tags-text"],[1,"wrapper"],[1,"statement"],[1,"input-container"],["placeholder","Experience...",3,"ngModel","autoGrow","ngModelChange"],[1,"buttons-container"],["fill","outline",1,"cancel-button",3,"click"],["fill","outline",1,"save-button",3,"click"],["placeholder","Tags...",3,"ngModel","autoGrow","ngModelChange"],[1,"body"],["name","crescent"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-buttons",3)(4,"ion-button",4),t.NdJ("click",function(){return o.back()}),t._UZ(5,"ion-icon",5),t.qZA()(),t.TgZ(6,"ion-title",6),t._uU(7,"Editing Profile"),t.qZA()()()(),t.YNc(8,y,67,15,"ion-content",7)(9,M,3,0,"ion-content",8)),2&e&&(t.xp6(8),t.Q6J("ngIf",o.user),t.xp6(),t.Q6J("ngIf",!o.user&&o.isLoading))},dependencies:[l.sg,l.O5,d.JJ,d.On,r.BJ,r.yp,r.YG,r.Sm,r.PM,r.wI,r.W2,r.x4,r.jY,r.Gu,r.gu,r.Xz,r.Nd,r.PQ,r.yW,r.g2,r.wd,r.sr,r.ki,r.QI,r.j9],styles:['.header-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5px}.back-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;height:8em;border-bottom:solid 1px}.icon[_ngcontent-%COMP%]{margin:5%;height:80px;width:80px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:70%}.np-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.name[_ngcontent-%COMP%], .position[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;opacity:.2}.position[_ngcontent-%COMP%]{font-size:.8rem;padding-left:5px}.save-button[_ngcontent-%COMP%]{width:25%;display:flex;justify-content:flex-end;align-items:center;padding-right:10px}ion-icon[_ngcontent-%COMP%]{font-size:30px;opacity:.8}ion-icon[_ngcontent-%COMP%]:active{font-size:30px;color:gray;opacity:.8}ion-grid[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;opacity:.2}ion-row[_ngcontent-%COMP%]{height:3em}ion-col[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}ion-img[_ngcontent-%COMP%]{width:40px;padding-right:10px}.entry[_ngcontent-%COMP%]{font-size:12px}.seperator[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:10px;padding-right:10px}.first-line[_ngcontent-%COMP%]{position:relative;width:30%;height:1px;background-color:#837272}.first-line[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;left:0;top:-5px}.section-name[_ngcontent-%COMP%]{font-size:16px;padding:5px}.second-line[_ngcontent-%COMP%]{position:relative;width:100%;height:1px;background-color:#837272}.second-line[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;right:0;top:-5px}.experience-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.first-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px;margin-bottom:10px;width:100%}h6[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin:0}.experience-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;border:1px solid lightgray}.experience-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter}.second-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px;width:100%}.first-experience-section[_ngcontent-%COMP%]:active, .second-experience-section[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.skills-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;border:1px solid lightgray}.no-experience-text[_ngcontent-%COMP%], .no-tags-text[_ngcontent-%COMP%]{font-style:italic}ion-badge[_ngcontent-%COMP%]{background:#810808;font-weight:400;margin-right:2px;--color: white}.calendar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;opacity:.2}.calendar[_ngcontent-%COMP%]{background-color:transparent}.attendance-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.attendance-button[_ngcontent-%COMP%]{--border-color: #810808;--background-activated: #4d0606;--color-activated: white;width:50%}ion-modal#edit-first-section-modal[_ngcontent-%COMP%], ion-modal#edit-second-section-modal[_ngcontent-%COMP%]{--width: 90%;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#edit-first-section-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%], ion-modal#edit-second-section-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px}.statement[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.input-container[_ngcontent-%COMP%]{padding:10px;width:100%}ion-textarea[_ngcontent-%COMP%]{background-color:#d3d3d3;color:#000;border-radius:10px;--padding-start: 10px}.modal-icon[_ngcontent-%COMP%]{font-size:25px;color:#810808;padding-left:10px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px;width:100%}.save-button[_ngcontent-%COMP%]{--border-color: #810808;--background-activated: #810808;--color-activated: white;width:50%}.cancel-button[_ngcontent-%COMP%]{--background-activated: #810808;--color-activated: white;width:50%}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}']}),s})()}];let O=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]}),s})(),w=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,d.u5,r.Pc,O]}),s})()}}]);