"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5220],{5220:(F,d,a)=>{a.r(d),a.d(d,{CommunityPageModule:()=>Q});var g=a(6814),_=a(6223),c=a(451),p=a(8179),e=a(9212),m=a(6530);const u=["modal"];function f(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-item",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.applyFilter("On shift"))}),e._uU(3,"On shift"),e.qZA(),e.TgZ(4,"ion-item",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.applyFilter("Dispatcher"))}),e._uU(5,"Dispatchers"),e.qZA(),e.TgZ(6,"ion-item",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.applyFilter("Medic"))}),e._uU(7,"Medics"),e.qZA(),e.TgZ(8,"ion-item",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.applyFilter("Admin"))}),e._uU(9,"Admins"),e.qZA(),e.TgZ(10,"ion-item",10),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.applyFilter("All members"))}),e._uU(11,"All members"),e.qZA()()()}2&t&&(e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Q6J("button",!0)("detail",!1))}function x(t,s){1&t&&(e.ynx(0),e._UZ(1,"div",22),e.BQk())}function h(t,s){1&t&&(e.ynx(0),e._UZ(1,"div",23),e.BQk())}function y(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-col",15)(1,"ion-card",16),e.NdJ("click",function(){const r=e.CHM(n).$implicit,l=e.oxw(4);return e.KtG(l.openModal(r))}),e.TgZ(2,"div",17)(3,"ion-avatar",18),e._UZ(4,"img",19),e.qZA(),e.TgZ(5,"div",20),e._uU(6),e._UZ(7,"br"),e._uU(8),e.qZA(),e.TgZ(9,"div",21),e._uU(10),e.qZA()(),e.YNc(11,x,2,0,"ng-container",9)(12,h,2,0,"ng-container",9),e.qZA()()}if(2&t){const n=s.$implicit;e.xp6(6),e.hij(" ",n.firstName," "),e.xp6(2),e.hij(" ",n.lastName," "),e.xp6(2),e.Oqu(n.role),e.xp6(),e.Q6J("ngIf",!n.hasShift),e.xp6(),e.Q6J("ngIf",n.hasShift)}}function C(t,s){if(1&t&&(e.TgZ(0,"ion-list")(1,"ion-list-header",13),e._uU(2),e.qZA(),e.TgZ(3,"ion-grid")(4,"ion-row"),e.YNc(5,y,13,5,"ion-col",14),e.qZA()()()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.hij(" ",n.letter," "),e.xp6(3),e.Q6J("ngForOf",n.users)}}function P(t,s){if(1&t&&(e.ynx(0),e.YNc(1,C,6,2,"ion-list",9),e.BQk()),2&t){const n=s.$implicit;e.xp6(),e.Q6J("ngIf",n.users.length>0)}}function Z(t,s){1&t&&(e.ynx(0),e.TgZ(1,"div",24)(2,"p",25),e._uU(3,"No members found"),e.qZA()(),e.BQk())}function b(t,s){if(1&t&&(e.TgZ(0,"ion-text",55),e._uU(1),e.qZA()),2&t){const n=e.oxw(3);e.xp6(),e.Oqu(n.selectedUser.bio)}}function U(t,s){1&t&&(e.TgZ(0,"ion-text",56),e._uU(1,"Nothing to show here"),e.qZA())}function M(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-badge"),e._uU(2),e.qZA(),e.BQk()),2&t){const n=s.$implicit;e.xp6(2),e.Oqu(n.trim())}}function O(t,s){if(1&t&&(e.ynx(0),e.YNc(1,M,3,1,"ng-container",11),e.BQk()),2&t){const n=e.oxw(3);e.xp6(),e.Q6J("ngForOf",n.selectedUser.tags.split(","))}}function T(t,s){1&t&&(e.TgZ(0,"ion-text",57),e._uU(1,"Nothing to show here"),e.qZA())}function w(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-content",26)(1,"ion-toolbar")(2,"div",27)(3,"ion-avatar",28),e._UZ(4,"img",19),e.qZA(),e.TgZ(5,"div",29)(6,"div",30)(7,"h2",31),e._uU(8),e.qZA(),e.TgZ(9,"p",32),e._uU(10),e.qZA()()()(),e.TgZ(11,"ion-buttons",33)(12,"ion-button",34),e.NdJ("click",function(){e.CHM(n),e.oxw();const o=e.MAs(4);return e.KtG(o.dismiss())}),e._uU(13,"Close"),e.qZA()()(),e.TgZ(14,"ion-grid",35)(15,"ion-row",36)(16,"ion-col",37),e._UZ(17,"ion-img",38),e.TgZ(18,"p",39),e._uU(19),e.qZA()(),e.TgZ(20,"ion-col",37),e._UZ(21,"ion-img",40),e.TgZ(22,"p",39),e._uU(23),e.qZA()()(),e.TgZ(24,"ion-row",36)(25,"ion-col",37),e._UZ(26,"ion-img",41),e.TgZ(27,"p",39),e._uU(28),e.qZA()(),e.TgZ(29,"ion-col",37),e._UZ(30,"ion-img",42),e.TgZ(31,"p",39),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",43),e._UZ(34,"div",44),e.TgZ(35,"p",45),e._uU(36,"Experience"),e.qZA(),e._UZ(37,"div",46),e.qZA(),e.TgZ(38,"div",47)(39,"div",48)(40,"h6"),e._uU(41,"Accomplishments"),e.qZA(),e.TgZ(42,"ion-card",49),e.YNc(43,b,2,1,"ion-text",50)(44,U,2,0,"ion-text",51),e.qZA()(),e.TgZ(45,"div",52)(46,"h6"),e._uU(47,"Medical Skills"),e.qZA(),e.TgZ(48,"ion-card",53),e.YNc(49,O,2,1,"ng-container",9)(50,T,2,0,"ion-text",54),e.qZA()()()()}if(2&t){const n=e.oxw(2);e.xp6(8),e.AsE("",n.selectedUser.firstName," ",n.selectedUser.lastName,""),e.xp6(2),e.Oqu(n.selectedUser.role),e.xp6(4),e.Q6J("fixed",!0),e.xp6(5),e.Oqu(n.selectedUser.email),e.xp6(4),e.Oqu(n.selectedUser.phoneNumber),e.xp6(5),e.Oqu(n.selectedUser.studentId),e.xp6(4),e.Oqu(n.selectedUser.major),e.xp6(11),e.Q6J("ngIf",n.selectedUser&&n.selectedUser.bio),e.xp6(),e.Q6J("ngIf",!(n.selectedUser&&n.selectedUser.bio)),e.xp6(5),e.Q6J("ngIf",n.selectedUser&&n.selectedUser.tags),e.xp6(),e.Q6J("ngIf",!(n.selectedUser&&n.selectedUser.tags))}}function A(t,s){if(1&t&&(e.ynx(0),e.YNc(1,P,2,1,"ng-container",11)(2,Z,4,0,"ng-container",9),e.TgZ(3,"ion-modal",null,12),e.YNc(5,w,51,12,"ng-template"),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(),e.Q6J("ngForOf",n.filteredGroupedUsers),e.xp6(),e.Q6J("ngIf",0===n.filteredGroupedUsers.length)}}function v(t,s){1&t&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"ion-spinner",58),e.qZA(),e.BQk())}function k(t,s){1&t&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",59)(3,"p"),e._uU(4,"No members"),e.qZA(),e.TgZ(5,"p",60),e._uU(6,"Members will appear here once registered"),e.qZA(),e._UZ(7,"ion-img",61),e.qZA()(),e.BQk())}function q(t,s){if(1&t&&(e.ynx(0),e.YNc(1,v,3,0,"ng-container",9)(2,k,8,0,"ng-container",9),e.BQk()),2&t){const n=e.oxw();e.xp6(),e.Q6J("ngIf",n.isLoading),e.xp6(),e.Q6J("ngIf",!n.isLoading)}}const N=[{path:"",component:(()=>{var t;class s{constructor(i){this.userService=i,this.allUsers=[],this.users=[],this.groupedUsers=[],this.filteredGroupedUsers=[],this.selectedFilter="",this.placeholder="",this.isLoading=!1}ngOnInit(){this.getAllMembers(),this.updatePlaceholder()}getAllMembers(){this.isLoading=!0,this.userService.getAllMembers().subscribe({next:i=>{if(i&&i.hasOwnProperty("users")){console.log("Fetched all users: ",i);const o=JSON.parse(JSON.stringify(i));this.allUsers=[].concat.apply([],Object.values(o.users)),this.allUsers.forEach(r=>{this.users.push({firstName:r.first_name,lastName:r.last_name,role:r.rank.rank_name,email:r.lau_email,phoneNumber:r.phone_number,studentId:r.student_id,major:r.major,bio:r.bio,tags:r.tags,hasShift:r.has_shift})}),this.groupUsers(),this.filteredGroupedUsers=[...this.groupedUsers]}else console.log("No users")},error:i=>{console.error("Error retrieving users:",i)},complete:()=>{this.isLoading=!1}})}getRole(i){switch(Number(i)){case 1:case 5:return"Dispatcher";case 2:case 4:return"Medic";case 3:return"Admin";case 6:return"Dispatcher & Medic";default:return""}}groupUsers(){this.users.sort((o,r)=>o.firstName.localeCompare(r.firstName));const i={};this.users.forEach(o=>{const r=o.firstName.charAt(0).toUpperCase();i[r]=i[r]||[],i[r].push(o)}),this.groupedUsers=Object.keys(i).map(o=>({letter:o,users:i[o]}))}handleInput(i){const o=i.target.value.trim().toLowerCase();""!==o?this.filteredGroupedUsers=this.filteredGroupedUsers.map(r=>({letter:r.letter,users:r.users.filter(l=>(l.firstName.toLowerCase()+" "+l.lastName.toLowerCase()).includes(o))})).filter(r=>r.users.length>0):this.selectedFilter?this.applyFilter(this.selectedFilter):this.filteredGroupedUsers=[...this.groupedUsers]}applyFilter(i){this.selectedFilter=i,this.filteredGroupedUsers="All members"===i?[...this.groupedUsers]:"On shift"===i?[{letter:"On Shift",users:this.users.filter(o=>!0===o.hasShift)}]:this.groupedUsers.map(o=>({letter:o.letter,users:o.users.filter(r=>r.role.split("&").map(l=>l.trim()).includes(i))})).filter(o=>o.users.length>0),this.updatePlaceholder()}updatePlaceholder(){(""==this.selectedFilter||"All members"==this.selectedFilter)&&(this.placeholder="all members..."),"Dispatcher"==this.selectedFilter&&(this.placeholder="dispatchers..."),"Medic"==this.selectedFilter&&(this.placeholder="medics..."),"Admin"==this.selectedFilter&&(this.placeholder="admins..."),"Admin"==this.selectedFilter&&(this.placeholder="admins..."),"On shift"==this.selectedFilter&&(this.placeholder="users on shift...")}openModal(i){var o;this.selectedUser=i,null===(o=this.modal)||void 0===o||o.present()}}return(t=s).\u0275fac=function(i){return new(i||t)(e.Y36(m.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-community"]],viewQuery:function(i,o){if(1&i&&e.Gf(u,5),2&i){let r;e.iGM(r=e.CRH())&&(o.modal=r.first)}},decls:14,vars:5,consts:[["id","main-content"],[1,"toolbar"],["slot","start"],[1,"title"],["name","filter-outline","slot","end","id","popover-button",1,"filter-button"],["trigger","popover-button",3,"dismissOnSelect"],[1,"background"],[1,"search-bar-container"],["mode","md",1,"search-bar",3,"debounce","placeholder","ionInput"],[4,"ngIf"],[3,"button","detail","click"],[4,"ngFor","ngForOf"],["modal",""],["lines","inset"],["size","4",4,"ngFor","ngForOf"],["size","4"],[1,"card",3,"click"],[1,"card-content"],[1,"icon"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"user-name"],[1,"user-role"],[1,"gray-bottom"],[1,"green-bottom"],[1,"body"],[1,"no-results"],[1,"modal-content"],[1,"header"],[1,"modal-profile-pic"],[1,"container"],[1,"np-container"],[1,"name"],[1,"position"],["slot","end"],[3,"click"],[1,"grid-container",3,"fixed"],[1,"modal-row"],["size","6","size-md","4","size-lg","2",1,"modal-col"],["src","assets/icon/email.png"],[1,"entry"],["src","assets/icon/phone.png"],["src","assets/icon/id.png"],["src","assets/icon/major.png"],[1,"seperator"],[1,"first-line"],[1,"section-name"],[1,"second-line"],[1,"experience-sections"],[1,"first-experience-section"],[1,"experience-card"],["class","experience-text",4,"ngIf"],["class","no-experience-text",4,"ngIf"],[1,"second-experience-section"],[1,"skills-card"],["class","no-tags-text",4,"ngIf"],[1,"experience-text"],[1,"no-experience-text"],[1,"no-tags-text"],["name","crescent"],[1,"stmt"],[1,"second-stmt"],["src","assets/img/no-emergencies-img.png",1,"no-emergencies-img"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Community"),e.qZA(),e._UZ(6,"ion-icon",4),e.TgZ(7,"ion-popover",5),e.YNc(8,f,12,10,"ng-template"),e.qZA()()(),e.TgZ(9,"ion-content",6)(10,"div",7)(11,"ion-searchbar",8),e.NdJ("ionInput",function(l){return o.handleInput(l)}),e.qZA()(),e.YNc(12,A,6,2,"ng-container",9)(13,q,3,2,"ng-container",9),e.qZA()),2&i&&(e.xp6(7),e.Q6J("dismissOnSelect",!0),e.xp6(4),e.MGl("placeholder","Search ",o.placeholder,""),e.Q6J("debounce",800),e.xp6(),e.Q6J("ngIf",o.allUsers.length>0),e.xp6(),e.Q6J("ngIf",0==o.allUsers.length))},dependencies:[g.sg,g.O5,c.BJ,c.yp,c.YG,c.Sm,c.PM,c.wI,c.W2,c.jY,c.Gu,c.gu,c.Xz,c.Ie,c.q_,c.yh,c.fG,c.Nd,c.VI,c.PQ,c.yW,c.wd,c.sr,c.ki,c.d8,c.j9],styles:['.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;height:60px}ion-menu-button[_ngcontent-%COMP%]{font-weight:400}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.filter-button[_ngcontent-%COMP%]{width:20%;font-size:30px}.filter-button[_ngcontent-%COMP%]:active{color:gray;width:20%;font-size:30px}.search-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:1.2em}ion-searchbar.search-bar[_ngcontent-%COMP%]{padding:0 10px;border:solid 1px;border-radius:20px;--background: transparent;--box-shadow: none}ion-list[_ngcontent-%COMP%]{background-color:transparent}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0;box-shadow:0 0 8px #0000004d}.card[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_pulse .1s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.icon[_ngcontent-%COMP%]{margin:5%;height:65px;width:65px}.user-name[_ngcontent-%COMP%]{padding-top:5px;font-weight:700;text-align:center}.user-role[_ngcontent-%COMP%]{opacity:.8;text-align:center}.gray-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:100%;background-color:#838383}.green-bottom[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:100%;background-color:green;opacity:.8}ion-modal[_ngcontent-%COMP%]{--height: 50%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.modal-profile-pic[_ngcontent-%COMP%]{margin:5%;height:75px;width:80px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:70%}.np-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.name[_ngcontent-%COMP%], .position[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.position[_ngcontent-%COMP%]{font-size:.8rem;padding-left:5px}.modal-grid[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.modal-row[_ngcontent-%COMP%]{height:3em}.modal-col[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}ion-img[_ngcontent-%COMP%]{width:40px;padding-right:10px}.entry[_ngcontent-%COMP%]{font-size:12px}.seperator[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:10px;padding-right:10px}.first-line[_ngcontent-%COMP%]{position:relative;width:30%;height:1px;background-color:#837272}.first-line[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;left:0;top:-5px}.section-name[_ngcontent-%COMP%]{font-size:16px;padding:5px;font-style:italic}.second-line[_ngcontent-%COMP%]{position:relative;width:100%;height:1px;background-color:#837272}.second-line[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#837272;right:0;top:-5px}.experience-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.first-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px;margin-bottom:10px;width:100%}h6[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin:0}.experience-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;border:1px solid lightgray}.experience-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter}.second-experience-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:10px;padding-right:10px;width:100%}.skills-card[_ngcontent-%COMP%]{padding:10px;margin:0;border-radius:10px;border:1px solid lightgray}.no-experience-text[_ngcontent-%COMP%], .no-tags-text[_ngcontent-%COMP%]{font-style:italic}ion-badge[_ngcontent-%COMP%]{background:#810808;font-weight:400;margin-right:2px;--color: white}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin-top:5em;padding:10px}.stmt[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:1em;font-size:18px;font-weight:700}.second-stmt[_ngcontent-%COMP%]{margin-top:-1em;font-size:14px;text-align:center}.no-emergencies-img[_ngcontent-%COMP%]{width:80%}.no-results[_ngcontent-%COMP%]{font-style:italic}']}),s})()}];let J=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(N),p.Bz]}),s})(),Q=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,_.u5,c.Pc,J]}),s})()}}]);